{"version":3,"sources":["logo192.png","TopBarLoginSignup/TopBarLoginSignupView.js","TopBarLoginSignup/index.js","Home.js","base.js","LogIn/LogInView.js","LogIn/index.js","SignUp/SignUpView.js","SignUp/index.js","MicroblogBox/index.js","MicroblogWriter/MicroblogWriterView.js","DataObjects/UserData.js","helperfunctions.js","MicroblogWriter/index.js","TopBar/TopBarView.js","TopBar/index.js","Microblog/MicroblogView.js","Topic/TopicView.js","Topic/TopicHighlightedView.js","Topic/index.js","Topics/TopicsBox.js","Topics/index.js","Microblog/index.js","Microblogs/index.js","AutoCompleteSearchBar/AutoCompleteSearchBar.js","Landing/index.js","LandingPage/index.js","ProfilePage/checkBox.js","ProfilePage/checkBox.jsx","ProfilePicture/ProfilepicView.js","ProfilePicture/NewProfilepicView.js","ProfilePicture/VisitedProfilepic.js","User/UserProfileViews/VisitedUserView.js","ProfilePicture/index.js","User/UserProfileViews/LoggedInUserView.js","User/UserProfileViews/LoggedInUserEditView.js","User/index.js","ProfilePage/ProfilePageView.js","ProfilePage/index.js","DeleteAccountAuthentication/DeleteAccountAuthenticationView.js","DeleteAccountAuthentication/index.js","Chat/Messages.js","Chat/Input.js","Chat/index.js","App.js","serviceWorker.js","index.js","assets/twisster_logo.png"],"names":["module","exports","TopBarTwissterLoginSignup","className","TopBarLoginSignup","props","React","Component","withRouter","Home","goLogIn","event","a","history","push","pathname","goSignUp","onClick","this","app","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","MainLogo","src","logo","children","MainName","CenterUiBox","EmailField","name","placeholder","onFocus","e","target","onBlur","PasswordField","type","focus","LogInView","onSubmit","Button","variant","LogInContainer","handleLogIn","preventDefault","elements","email","password","user_exists","database","ref","once","snapshot","user_email_list","child","val","value","includes","undefined","username_or_email","key","toast","containerId","auth","signInWithEmailAndPassword","user","emailVerified","currentUser","sendEmailVerification","url","handleCodeInApp","then","console","log","catch","error","bind","color","enableMultiContainer","position","POSITION","TOP_RIGHT","SignupEmail","ReturnToLogin","SignupUsername","SignupPassword","SignUpView","SignUpContainer","handleSignUp","username","username_exists","createUserWithEmailAndPassword","username_email_combo","update","username_uid_combo","uid","uid_username_combo","actionCodeSettings","message","date","Date","timestamp","getTime","set","signupTimestamp","picture","signOut","goLogin","MicroblogBox","MicroblogWriterView","image","id","handle","disabled","submitMicroblog","addTopic","NewTweetBox","Image","alt","height","width","Handle","Name","UserData","loggedIn","viewingOwnProfile","helperfunctions","retrieveUserUid","uid_follow","retrieveUserEmail","retrieveUsername","mapUIDtoUsername","addMicroBlogToCurrentUser","content","topics","uid_current","length","wTopics","index","writtenTopics","w","topicsList","userLikes","microblog","microblog_list","resolve","likeMicroblog","UIDofUserIAmViewing","forEach","countLikes","numLikes","unlikeMicroblog","indexOf","splice","getBio","uid_val","bio_cont","bio_text","getFollowersAndFollowing","usersTheUserIsFollowing","followersTheUserHas","followers","i","following","result","followUserIAmViewing","currUserUID","currUserName","followedUserName","followedUserUID","usersIAmFollowing","followersOfUserIamFollowing","hasChild","usersList","unfollowUserIAmViewing","remove","addAndRemoveTopicsFromFollowedUser","topicsFollow","topicsUnFollow","getFollowedAndUnfollowedTopics","tList","v","followedTopics","followedTopicsList","unfollowedTopics","postCurrentUserBio","deleteUserData","followingUsers","followedUsers","followerUid","followingUserUid","followerlist","delete","getMicroblogsForUserTimeline","Microblogs","mapUsernameToUID","uidOfUser","childSnapshot","followedUsername","uidOfFollowedUser","microblogs","followingTimestampOfFollowedUser","currMicroblog","foundNewTopic","t","j","sort","m1","m2","getMicroblogsForCurrentUser","getMicroblogsForUser","getUserdataOfLoggedInUser","onAuthStateChanged","getUserdataOfUser","userData","MicroblogWriter","microblogData","Object","microblogPosted","numTopics","document","getElementById","TopBarTwisster","goLogout","goToProfile","goToChat","goToLanding","TopBar","state","theid","Tweet","tweet","Topics","MicroblogView","unitid","class","likeButtonClicked","likeButtonText","TopicView","text","TopicHighlightedView","Topic","topic","data","highlight","TopicsBox","createTopics","topicsArray","num","highlightbool","substr","Microblog","counter","blogid","fetchImage","like","liked","setState","strangeruid","picname","picname2","toMatch","storage","getDownloadURL","toReturn","querySelectorAll","item","code","nullLiteral","createMicroblogs","microblogsArray","AutoCompleteSearchBar","onTextChanged","items","suggestions","regex","RegExp","filter","test","searchForUser","map","suggestionSelected","userexists","onChange","renderSuggestions","Landing","loaded","editMode","getAllUsernames","updateMicroblogs","user_list","all_users","LandingPage","checkboxes","Checkbox","checked","CheckboxContainer","checkedItems","Map","handleChange","save","isChecked","prevState","checkbox_new","label","unFollowedTopics","entries","k","Fragment","get","ProfilepicView","changeProfPic","deletePic","NewProfilepicView","VisitedProfilepic","VisitedUserView","userProfile","followersAndFollowing","followUser","bio","ProfilePicture","uploadImage","inpFile","file","files","put","response","toUpload","forceUpdate","deletePicture","visiting","strangername","upLoadImage","changePic","toRet","querySelector","visiterImage","LoggedInUserView","deleteAccount","style","marginLeft","editProfile","LoggedInUserEditView","saveChanges","User","loggedInViewingOwnProfile","followOrUnfollowUser","renderLoggedInUser","renderVisitedUser","mustUpdate","textContent","follow","downloadUserProfile","ProfilePageView","ProfilePage","localProps","setUsername","UIDtoUsername","location","path","substring","DeleteAccountAuthenticationView","DeleteAcountAuthenticationContainter","currentEmail","currentUsername","valid_password","Messages","messages","m","renderMessage","member","currentMember","backgroundColor","clientData","Input","onSendMessage","autofocus","Chat","Math","floor","random","toString","drone","publish","room","updateUserName","window","Scaledrone","on","clientId","subscribe","configure","App","exact","component","Login","SignUp","DeleteAccountAuthentication","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.44c53c81.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from \"react\";\r\nimport './TopBar.css'\r\n\r\nconst TopBarTwissterLoginSignup = () => {\r\n    return (\r\n      <div className=\"inner-body\">\r\n        <label className=\"top-bar-twisster\" >Twistter</label>\r\n        {/* <input className=\"top-bar-search\" placeholder=\"Search\"/>\r\n        <button className=\"top-bar-button\" type=\"button\" onClick={onClickProfile}>Go to your profile</button>  */}   \r\n      </div>\r\n    )\r\n}\r\nexport default TopBarTwissterLoginSignup;\r\n","import TopBarTwissterLoginSignup from './TopBarLoginSignupView'\r\nimport React, { PureComponent } from 'react'\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport firebase from \"firebase\";\r\nclass TopBarLoginSignup extends React.Component{\r\n\r\n    constructor(props) {\r\n  \r\n      super(props);\r\n\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"top-bar\">\r\n                <TopBarTwissterLoginSignup  />\r\n            </div>\r\n          )\r\n    }\r\n}\r\nexport default withRouter(TopBarLoginSignup);","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport TopBarLoginSignup from \"./TopBarLoginSignup\"\r\n\r\n\r\nclass Home extends Component {\r\n\r\n  goLogIn = async event => {\r\n    \r\n    this.props.history.push({\r\n      pathname: \"/login\"\r\n    });\r\n  };\r\n\r\n  goSignUp = async event => {\r\n\r\n    this.props.history.push({\r\n      pathname: '/signup'\r\n    })\r\n  };\r\n \r\n  render() {\r\n    return (\r\n      <div>\r\n        <TopBarLoginSignup />\r\n        <h1>Home</h1>\r\n        <form>\r\n        <button onClick={this.goLogIn}>Login</button>\r\n        <button onClick={this.goSignUp}>Signup</button>\r\n        </form>\r\n      </div>\r\n  );\r\n  }\r\n  \r\n}\r\n\r\nexport default withRouter(Home);\r\n\r\n","import firebase from \"firebase\";\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_FIREBASE_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: 'gs://twistter.appspot.com/',\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\r\n    \r\n});\r\n\r\nexport default app;","import React from \"react\";\r\nimport \"./LoginView.css\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport logo from \"../assets/twisster_logo.png\";\r\n\r\nconst MainLogo = props => {\r\n  return (\r\n    <img className=\"logo-twisster\" src={logo}>\r\n      {props.children}\r\n    </img>\r\n  );\r\n};\r\n\r\nconst MainName = props => {\r\n  return <label className=\"name-twisster\">twisster</label>;\r\n};\r\n\r\nconst CenterUiBox = props => {\r\n  return <div className=\"login-prompt\">{props.children}</div>;\r\n};\r\n\r\nconst EmailField = props => {\r\n  return (\r\n    <input\r\n      name=\"email\"\r\n      className=\"login-textbox\"\r\n      placeholder=\"Email/Username\"\r\n      onFocus={e => (e.target.placeholder = \"\")}\r\n      onBlur={e => (e.target.placeholder = \"Email/Username\")}\r\n    >\r\n      {props.children}\r\n    </input>\r\n  );\r\n};\r\n\r\nconst PasswordField = props => {\r\n  return (\r\n    <input\r\n      name=\"password\"\r\n      className=\"password-textbox\"\r\n      type=\"password\"\r\n      placeholder=\"Password\"\r\n      onFocus={e => (e.target.placeholder = \"\")}\r\n      onBlur={e => (e.target.placeholder = \"Password\")}\r\n      focus\r\n    >\r\n      {props.children}\r\n    </input>\r\n  );\r\n};\r\n\r\nconst LogInView = ({ onSubmit, onClick }) => {\r\n  return (\r\n    <div className=\"main-body\">\r\n      <div className=\"body\">\r\n        <CenterUiBox>\r\n          {/* <h1>Login</h1> */}\r\n          <MainLogo></MainLogo>\r\n          <MainName></MainName>\r\n          <form onSubmit={onSubmit}>\r\n            <EmailField />\r\n            <PasswordField />\r\n            <Button\r\n              className=\"login-button\"\r\n              variant=\"outline-dark\"\r\n              type=\"submit\"\r\n            >\r\n              <span>Login </span>\r\n            </Button>\r\n          </form>\r\n          <Button\r\n            className=\"signup-button\"\r\n            variant=\"outline-dark\"\r\n            type=\"submit\"\r\n            onClick={onClick}\r\n          >\r\n            <span>Sign Up </span>\r\n          </Button>\r\n        </CenterUiBox>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogInView;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport app from \"../base\";\r\nimport TopBarLoginSignup from \"../TopBarLoginSignup\";\r\n\r\nimport LogInView from \"./LogInView\";\r\nimport firebase from \"firebase\";\r\n\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n// goLogIn = async event => {\r\n\r\n//   this.props.history.push({\r\n//     pathname: \"/login\"\r\n//   });\r\n// };\r\n\r\nclass LogInContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleLogIn = this.handleLogIn.bind(this);\r\n    this.goSignUp = this.goSignUp.bind(this);\r\n  }\r\n\r\n  handleLogIn = async event => {\r\n    event.preventDefault();\r\n    const { email, password } = event.target.elements;\r\n    try {\r\n      var user_exists = true;\r\n      var username_or_email;\r\n      await app\r\n        .database()\r\n        .ref()\r\n        .once(\"value\", snapshot => {\r\n          var user_email_list = snapshot.child(\"mapUsernameToEmail\").val();\r\n          if (email.value.includes(\"@\") != true) {\r\n            if (user_email_list[email.value] == undefined) {\r\n              user_exists = false;\r\n            }\r\n            username_or_email = user_email_list[email.value];\r\n          } else {\r\n            username_or_email = email.value;\r\n            user_exists = false;\r\n            var value;\r\n            for (var key in user_email_list) {\r\n              value = user_email_list[key];\r\n              if (value == email.value) {\r\n                user_exists = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        });\r\n\r\n      if (!user_exists) {\r\n        toast(\"User Account does not exist\");\r\n        toast(\"User Account does not exist\", { containerId: \"B\" });\r\n        return;\r\n      }\r\n\r\n      this.user = await app\r\n        .auth()\r\n        .signInWithEmailAndPassword(username_or_email, password.value);\r\n\r\n      if (!this.user.user.emailVerified) {\r\n        toast(\"email is not verified! resending verification link...\");\r\n        firebase\r\n          .auth()\r\n          .currentUser.sendEmailVerification({\r\n            url: \"http://localhost:3000/login\",\r\n            handleCodeInApp: true\r\n          })\r\n          .then(function() {\r\n            console.log(\"sent verification email\");\r\n          })\r\n          .catch(function(error) {\r\n            toast(error);\r\n          });\r\n        return;\r\n      }\r\n\r\n      this.props.history.push({\r\n        pathname: \"/landing\"\r\n      });\r\n    } catch (error) {\r\n      toast(error);\r\n    }\r\n  };\r\n\r\n  goSignUp = async event => {\r\n    this.props.history.push({\r\n      pathname: \"/signup\"\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ToastContainer\r\n          color=\"danger\"\r\n          enableMultiContainer\r\n          containerId={\"B\"}\r\n          position={toast.POSITION.TOP_RIGHT}\r\n        />\r\n\r\n        {/* <TopBarLoginSignup /> */}\r\n        <LogInView onSubmit={this.handleLogIn} onClick={this.goSignUp} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(LogInContainer);\r\n","import React from \"react\";\r\nimport \"./SignUp.css\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport logo from \"../assets/twisster_logo.png\";\r\n\r\nconst MainLogo = props => {\r\n  return (\r\n    <img className=\"logo-twisster\" src={logo}>\r\n      {props.children}\r\n    </img>\r\n  );\r\n};\r\n\r\nconst MainName = props => {\r\n  return <label className=\"name-twisster\">twisster</label>;\r\n};\r\n\r\nconst SignupEmail = props => {\r\n  return (\r\n    <input\r\n      name=\"email\"\r\n      className=\"s_email-textbox\"\r\n      placeholder=\"Email\"\r\n      onFocus={e => (e.target.placeholder = \"\")}\r\n      onBlur={e => (e.target.placeholder = \"Email\")}\r\n    >\r\n      {props.children}\r\n    </input>\r\n  );\r\n};\r\n\r\nconst ReturnToLogin = props => {\r\n  return (\r\n    <div>\r\n      <label className=\"return-login\">\r\n        Already a member?\r\n        <button\r\n          type=\"submit\"\r\n          className=\"return-login_b\"\r\n          onClick={props.onClick}\r\n        >\r\n          Login\r\n        </button>\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SignupUsername = props => {\r\n  return (\r\n    <input\r\n      name=\"username\"\r\n      className=\"s_username-textbox\"\r\n      placeholder=\"Username\"\r\n      onFocus={e => (e.target.placeholder = \"\")}\r\n      onBlur={e => (e.target.placeholder = \"Username\")}\r\n    >\r\n      {props.children}\r\n    </input>\r\n  );\r\n};\r\n\r\nconst SignupPassword = props => {\r\n  return (\r\n    <input\r\n      name=\"password\"\r\n      type=\"password\"\r\n      className=\"s_password-textbox\"\r\n      placeholder=\"Password\"\r\n      onFocus={e => (e.target.placeholder = \"\")}\r\n      onBlur={e => (e.target.placeholder = \"Password\")}\r\n    >\r\n      {props.children}\r\n    </input>\r\n  );\r\n};\r\n\r\nconst CenterUiBox = props => {\r\n  return <div className=\"s_login-prompt\">{props.children}</div>;\r\n};\r\n\r\nconst SignUpView = ({ onSubmit, onClick }) => {\r\n  return (\r\n    <CenterUiBox>\r\n      <form onSubmit={onSubmit}>\r\n        <MainLogo></MainLogo>\r\n        <MainName></MainName>\r\n        <SignupEmail />\r\n        <SignupUsername />\r\n        <SignupPassword />\r\n        <Button\r\n          className=\"s_signup-button\"\r\n          variant=\"outline-dark\"\r\n          type=\"submit\"\r\n        >\r\n          <span>Sign Up </span>\r\n        </Button>\r\n      </form>\r\n      <ReturnToLogin onClick={onClick} />\r\n    </CenterUiBox>\r\n  );\r\n};\r\n\r\nexport default SignUpView;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport firebase from \"firebase\";\r\nimport SignUpView from \"./SignUpView\";\r\n\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nclass SignUpContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.goLogin = this.goLogin.bind(this);\r\n  }\r\n\r\n  handleSignUp = async event => {\r\n    event.preventDefault();\r\n    const { email, username, password } = event.target.elements;\r\n    try {\r\n      //check to see if email, and username is a unique combination\r\n      var username_exists = false;\r\n      await firebase\r\n        .database()\r\n        .ref()\r\n        .once(\"value\", snapshot => {\r\n          var user_email_list = snapshot.child(\"mapUsernameToEmail\").val();\r\n          if (user_email_list != undefined) {\r\n            if (user_email_list[username.value] != undefined) {\r\n              toast(\"Username already exists\");\r\n              username_exists = true;\r\n            }\r\n          }\r\n        });\r\n\r\n      if (username_exists == true) {\r\n        return;\r\n      }\r\n\r\n      //if email and password are unique, make a new user\r\n      const user = await firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(email.value, password.value);\r\n\r\n      //if successful, add username / email combination to database\r\n      let username_email_combo = {};\r\n      username_email_combo[username.value] = email.value;\r\n      firebase\r\n        .database()\r\n        .ref()\r\n        .child(\"mapUsernameToEmail\")\r\n        .update(username_email_combo);\r\n\r\n      //add username / uid combination to database\r\n      let username_uid_combo = {};\r\n      username_uid_combo[username.value] = firebase.auth().currentUser.uid;\r\n      firebase\r\n        .database()\r\n        .ref()\r\n        .child(\"mapUsernameToUID\")\r\n        .update(username_uid_combo);\r\n\r\n      //add uid / username combination to database\r\n      let uid_username_combo = {};\r\n      uid_username_combo[firebase.auth().currentUser.uid] = username.value;\r\n      firebase\r\n        .database()\r\n        .ref()\r\n        .child(\"mapUIDtoUsername\")\r\n        .update(uid_username_combo);\r\n\r\n      //set redirect page\r\n      var actionCodeSettings = {\r\n        url: \"http://localhost:3000/login\",\r\n        handleCodeInApp: true\r\n      };\r\n\r\n      //send verification email\r\n      firebase\r\n        .auth()\r\n        .currentUser.sendEmailVerification(actionCodeSettings)\r\n        .then(function() {\r\n          console.log(\"sent verification email\");\r\n        })\r\n        .catch(function(error) {\r\n          toast(error.message);\r\n        });\r\n\r\n      //add timestamp for when they first signed up (used for automatic deletion)\r\n      var date = new Date();\r\n      var timestamp = date.getTime();\r\n\r\n      //create a new user from the data and set default fields and arrays\r\n      var database = firebase.database();\r\n      var newUserRef = database\r\n        .ref()\r\n        .child(\"users\")\r\n        .child(firebase.auth().currentUser.uid);\r\n      newUserRef.set({ email: email.value, signupTimestamp: timestamp, picture: \"default.jpg\" });\r\n\r\n      firebase.auth().signOut();\r\n\r\n      this.props.history.push(\"/login\");\r\n    } catch (error) {\r\n      toast(error.message);\r\n    }\r\n  };\r\n\r\n  goLogin = async event => {\r\n    this.props.history.push({\r\n      pathname: \"/login\"\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"main-body\">\r\n        <SignUpView onSubmit={this.handleSignUp} onClick={this.goLogin} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SignUpContainer);\r\n","import React, { Component } from 'react';\r\nimport './Landing.css'\r\nclass MicroblogBox extends React.Component{\r\n\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n\r\n    render(){        \r\n        return(\r\n            <div className=\"tweet-body\">\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default MicroblogBox;","import React from \"react\";\r\nimport MicroblogBox from '../MicroblogBox'\r\nimport './Landing.css'\r\n\r\nconst MicroblogWriterView = (props) => {\r\n    return(\r\n      <NewTweetBox>\r\n        <div className=\"inner-body\">\r\n          <Image image={props.image}/>\r\n          <div className=\"body\">\r\n            <div className=\"inner-body\">\r\n              <Name \r\n              name={props.name}\r\n              id='name'\r\n              />\r\n              <Handle handle={props.handle}/>\r\n            </div>\r\n            <div >\r\n              <textarea id='content' className='new-tweet' placeholder=\"Hello\"/>\r\n              <textarea disabled id='showTopics' className='new-topic' placeholder=\"Topics Listed Here\"/>\r\n              <textarea id='addTopics' className='new-topic' placeholder=\"Add Topics Here\"/>\r\n              <button type=\"submit\" onClick={props.submitMicroblog}>Post</button>\r\n              <button type=\"submit\" onClick={props.addTopic}>Add New Topics</button>\r\n            </div> \r\n          </div>\r\n        </div>\r\n      </NewTweetBox>\r\n    )\r\n} \r\n\r\n  \r\n\r\n  const NewTweetBox = (props) => {\r\n    return(\r\n      <div className='new-tweet-body'>\r\n      {props.children}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const Image = (image) => {\r\n    return(\r\n      <img id = \"img3\" alt=\"Logo\" height=\"50\" width=\"100\">\r\n      </img>\r\n    )\r\n  }\r\n  \r\n  const Handle = (props) => {\r\n    return(\r\n      <div className=\"handle\">\r\n        {props.handle}\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  const Name = (props) => {\r\n    return(\r\n      <div className=\"name\">\r\n        {props.name}\r\n      </div>\r\n    )\r\n  }\r\n  export {MicroblogWriterView};","class UserData{  \r\n\r\n    constructor(username, loggedIn, viewingOwnProfile){\r\n        this.username = username;\r\n        this.viewingOwnProfile = viewingOwnProfile;\r\n        this.loggedIn = loggedIn;\r\n    }\r\n\r\n    getUsername(){\r\n        return this.username;\r\n    }\r\n\r\n    getUid(){\r\n        return this.uid;\r\n    }\r\n}\r\nexport default UserData;","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport ReactDOM from 'react-dom';\r\nimport firebase from \"firebase\";\r\nimport { resolve } from \"dns\";\r\nimport UserData from \"./DataObjects/UserData\";\r\nimport { isFlowDeclaration } from \"@babel/types\";\r\n/*\r\nTODO\r\nHow to use this class:\r\n\r\n*/\r\nconst helperfunctions =\r\n    {\r\n    //Create a new user\r\n    // //@Params\r\n    // //email: user's email\r\n    // //username: user's username\r\n    // //password: user's password\r\n    // createNewUser(email, username, password)\r\n    // {\r\n    //     console.log(\"Entered createNewUser\");\r\n    //     //create email and password\r\n    //     const user = await firebase.auth().createUserWithEmailAndPassword(email.value, password.value);\r\n    //     //update username:email combo\r\n    //     let username_email_combo = {};\r\n    //     username_email_combo[username.value] = email.value;\r\n    //     firebase.database.ref().child('mapUsernameToEmail').update(username_email_combo);\r\n    //     //update username:uid combo\r\n    //     let username_uid_combo = {};\r\n    //     username_uid_combo[username.value] = uid.value;\r\n    //     firebase.database.ref().child('mapUsernameToUid').update(username_uid_combo);\r\n    //     console.log(\"Exited createNewUser\");\r\n    // }\r\n\r\n    //Description: Retrieve uid of a specific user\r\n    //@Params\r\n    //username: username of the specific user\r\n    //@Return\r\n    //uid_follow: uid of the specific user\r\n    retrieveUserUid: function(username)\r\n    {\r\n        console.log(\"Entered retrieveUserUid\");\r\n        var username_uid_map = firebase.database.ref().child(\"mapUsernameToUid\");\r\n        var uid_follow = username_uid_map[username];\r\n        console.log(\"Exited retrieveUserUid\");\r\n        return uid_follow;\r\n    },\r\n\r\n    //Description: Retrieve email of a specific user\r\n    //@Params\r\n    //username: username of the specific user\r\n    //@Return\r\n    //email: email of the specific user\r\n    retrieveUserEmail: function(username) \r\n    {\r\n        console.log(\"Entered retrieveUserEmail\");\r\n        var username_email_map = firebase.database().ref().child(\"mapUsernameToEmail\");\r\n        var email = username_email_map[username];\r\n        console.log(\"Exited retrieveUserEmail\");\r\n        return email;\r\n    },\r\n\r\n    retrieveUsername: async function(uid)\r\n    {\r\n      console.log(\"Entered retrieveUsername\");\r\n      var username;\r\n      await firebase.database().ref().once('value', (snapshot) => {\r\n        var mapUIDtoUsername = snapshot.child(\"mapUIDtoUsername\").val();\r\n        username = mapUIDtoUsername[uid];\r\n      });\r\n      console.log(\"Exited retrieveUsername\");\r\n      return username;\r\n    },\r\n\r\n    //Description: Add a user to follow to the current user's list of followers\r\n    //@Params\r\n    //usernameFollow: username of the individual you want to follow\r\n    //DEPRECATED\r\n    // addFollowedUser: function(usernameFollow)\r\n    // {\r\n    //     console.log(\"Entered addFollowedUser\");\r\n    //     //get the uid of the current user\r\n    //     var uid_current = firebase.auth().currentUser.uid;\r\n    //     //get the uid of the user to follow\r\n    //     var username_uid_map = firebase.database.ref().child(\"mapUsernameToUid\");\r\n    //     var uid_follow = username_uid_map[usernameFollow];\r\n    //     //put it in the appropriate spot in the databasee under followedUsers\r\n    //     //add uid and an empty list of followedTopics\r\n    //     var followedUserRef = firebase.database().ref().child(\"users\").child(uid_current).child(\"followedUsers\").child(uid_follow);\r\n    //     followedUserRef.push ({\r\n    //         followedTopics: []\r\n    //     });\r\n    //     console.log(\"Exited addFollowedUser\");\r\n    // },\r\n\r\n    //Description: Add a topic that the current user follows to the already followed user\r\n    //@Params\r\n    //usernameFollow: username of the individual the current user has followed, type: string\r\n    //topicsFollow: the topic(s) that the current user wants to follow from the given usernameFollow, type: array\r\n    //DEPRECATED\r\n    // addFollowedTopicToFollowedUser: function(usernameFollow, topicsFollow)\r\n    // {\r\n    //     console.log(\"Entered addFollowedTopicToFollowedUser\");\r\n    //     //get the uid of the current user\r\n    //     var uid_current = firebase.auth().currentUser.uid;\r\n    //     //get the uid of the user to follow\r\n    //     var username_uid_map = firebase.database.ref().child(\"mapUsernameToUid\");\r\n    //     var uid_follow = username_uid_map[usernameFollow];\r\n    //     //add followedTopic to the list of followedTopics within the followedUser\r\n    //     firebase.database().ref().once('value', (snapshot) => {\r\n    //         var followedTopics = snapshot.child(\"users\").child(firebase.auth().currentUser.uid).child(\"followedUsers\").child(uid_follow).child(\"followedTopics\").val();\r\n    //         for(var index = 0; index < topicsFollow.length; index++)\r\n    //         {\r\n    //             followedTopics.push(topicsFollow[index]);\r\n    //         }\r\n    //     });\r\n    //     console.log(\"Exited addFollowedTopicToFollowedUser\");\r\n    // },\r\n\r\n    //Description: Add a topic to current user (when current user decides to write and post a microblog)\r\n    //@Params\r\n    //content: a string that represents the blog itself (must be a string of less than 250 characters), type: string\r\n    //topic(s): a list of topics associated to the blog, type: array\r\n    addMicroBlogToCurrentUser: async function(content, topics)\r\n    {\r\n        var username = \"\";\r\n        console.log(\"Entered addMicroBlogToCurrentUser\");\r\n        //get the current user's uid\r\n        var uid_current = firebase.auth().currentUser.uid;\r\n        await firebase.database().ref().once('value', (snapshot) => {\r\n          var mapUIDtoUsername = snapshot.child(\"mapUIDtoUsername\").val();\r\n          username = mapUIDtoUsername[uid_current];\r\n          console.log(\"USERNAME:\", username);\r\n        });\r\n        //fetch the current timestamp\r\n        var date = new Date();\r\n        var timestamp = date.getTime();\r\n        //check if the length of the microblog does not exceed 250 characters\r\n        if(content.length > 250)\r\n        {\r\n            console.log(\"ERROR: content of microblog cannot exceed 250 characters --> will not store in firebase\");\r\n        }\r\n        //add uid, microblog content, and list of topics to Microblogs\r\n        var wTopics = [];\r\n\r\n        for(var index = 0; index < topics.length; index++)\r\n        {\r\n            wTopics.push({\"topics\":topics[index], \"timestamp\":timestamp});\r\n        }\r\n        await firebase.database().ref().once('value', (snapshot) => {\r\n            var writtenTopics = snapshot.child(\"users\").child(firebase.auth().currentUser.uid).child(\"writtenTopics\").val();\r\n            console.log(\"TYPE:\", typeof(writtenTopics));\r\n            //console.log(\"VALUES:\", Object.values(writtenTopics));\r\n            if(writtenTopics == null || writtenTopics.length === 0)\r\n            {\r\n                firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"writtenTopics\").set(wTopics);\r\n            }\r\n            else\r\n            {\r\n                for(var index = 0; index < wTopics.length; index++)\r\n                {\r\n                  var w = 0;\r\n                  for (; w < writtenTopics.length; w++) {\r\n                    if (writtenTopics[w].topics == wTopics[index].topics) {\r\n                      break;\r\n                    }\r\n                  }\r\n                  if (w == writtenTopics.length) {\r\n                    writtenTopics.push(wTopics[index]);\r\n                  }\r\n                }\r\n                firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"writtenTopics\").set(writtenTopics);\r\n            }\r\n        });\r\n        var topicsList = [];\r\n        for(var index = 0; index < topics.length; index++)\r\n        {\r\n            topicsList.push(topics[index]);\r\n        }\r\n        var numLikes = 0;\r\n        var userLikes = [];\r\n        userLikes.push(\"hello\");\r\n        var microblog = {'userLikes': userLikes, 'id': username + timestamp, 'user': username, 'content': content, 'topics': topicsList, 'timestamp': timestamp, 'numLikes': numLikes};\r\n        await firebase.database().ref().once('value', (snapshot) => {\r\n            var microblog_list = snapshot.child(\"users\").child(firebase.auth().currentUser.uid).child(\"Microblogs\").val();\r\n            //console.log(microblog_list);\r\n            if(microblog_list == null || microblog_list.length === 0)\r\n            {\r\n                firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"Microblogs\").set({'0': microblog});\r\n            }\r\n            else\r\n            {\r\n                microblog_list.push(microblog);\r\n                firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"Microblogs\").set(microblog_list);\r\n            }\r\n        });\r\n\r\n        resolve(\"done\");\r\n        return;\r\n        console.log(\"Exited addMicroBlogToCurrentUser\");\r\n    },\r\n\r\n    likeMicroblog: async function(microblog, username)\r\n    {\r\n      console.log(\"Entered likeMicroblog\");\r\n      await firebase.database().ref().once('value', (snapshot) => {\r\n        var mapUsernameToUID = snapshot.child(\"mapUsernameToUID\").val();\r\n        var UIDofUserIAmViewing = mapUsernameToUID[microblog.name];\r\n        snapshot.child(\"users\").child(UIDofUserIAmViewing).child(\"Microblogs\").forEach((function(child)\r\n        {\r\n          //console.log(username);\r\n          // console.log(child);\r\n          // console.log(child.key);\r\n          // console.log(child.val().id);\r\n          var countLikes = 0;\r\n          var userLikes = [];\r\n          if(child.val().id === microblog.id)\r\n          {\r\n            if(child.val().userLikes === undefined)\r\n            {\r\n              userLikes.push(username);\r\n            }\r\n            else if(child.val().userLikes.includes(username) === false)\r\n            {\r\n              if(child.val().numLikes === 0 || child.val().userLikes.includes(\"hello\"))\r\n              {\r\n                userLikes = child.val().userLikes;\r\n                userLikes[0] = username;\r\n              }\r\n              else\r\n              {\r\n                userLikes = child.val().userLikes;\r\n                userLikes.push(username);\r\n              }\r\n            }\r\n            else if(child.val().userLikes.includes(username) === true)\r\n            {\r\n              userLikes = child.val().userLikes;\r\n            }\r\n            countLikes = userLikes.length;\r\n            firebase.database().ref().child(\"users\").child(UIDofUserIAmViewing).child(\"Microblogs\").child(child.key).update({'userLikes': userLikes});\r\n            firebase.database().ref().child(\"users\").child(UIDofUserIAmViewing).child(\"Microblogs\").child(child.key).update({'numLikes': countLikes});\r\n          }\r\n        }));\r\n      });\r\n\r\n      resolve(\"done\");\r\n      console.log(\"Exited likeMicroblog\");\r\n    },\r\n\r\n    unlikeMicroblog: async function(microblog, username)\r\n    {\r\n      console.log(\"Entered unlikeMicroblog\");\r\n      await firebase.database().ref().once('value', (snapshot) => {\r\n        var mapUsernameToUID = snapshot.child(\"mapUsernameToUID\").val();\r\n        var UIDofUserIAmViewing = mapUsernameToUID[microblog.name];\r\n        snapshot.child(\"users\").child(UIDofUserIAmViewing).child(\"Microblogs\").forEach((function(child)\r\n        {\r\n          var countLikes = 0;\r\n          var userLikes = [];\r\n          if(child.val().id === microblog.id)\r\n          {\r\n            if(child.val().userLikes === undefined)\r\n            {\r\n              countLikes = 0;\r\n            }\r\n            else if(child.val().userLikes.includes(username) === true)\r\n            {\r\n              userLikes = child.val().userLikes;\r\n              var index = userLikes.indexOf(username);\r\n              userLikes.splice(index, 1);\r\n            }\r\n            countLikes = userLikes.length;\r\n            firebase.database().ref().child(\"users\").child(UIDofUserIAmViewing).child(\"Microblogs\").child(child.key).update({'userLikes': userLikes});\r\n            firebase.database().ref().child(\"users\").child(UIDofUserIAmViewing).child(\"Microblogs\").child(child.key).update({'numLikes': countLikes});\r\n          }\r\n        }));\r\n      });\r\n      resolve(\"done\");\r\n      console.log(\"Exited unlikeMicroblog\");\r\n    },\r\n    \r\n    //Description: fetch another Users bio (when current user visits another profile)\r\n    //@Params\r\n    //username: string containing Username of profile page current User is visiting\r\n    /* getBio: function(username) \r\n    {\r\n        var bio_content;\r\n        //fetch user's uid from the username to uid list and then fetch bio from coresponding uid.\r\n        firebase.database().ref().once('value', (snapshot) => {\r\n            var user_uid_list = snapshot.child('mapUsernameToUID').val();\r\n            var uid_val = user_uid_list[username];\r\n            bio_content = snapshot.child(\"users\").child(uid_val).child(\"bio\").val();\r\n        });\r\n\r\n        return bio_content;\r\n    }, */\r\n\r\n    getBio: async function(username) {\r\n\r\n      var bio_text;\r\n  \r\n      const bio = await firebase.database().ref().once('value', (snapshot) => {\r\n        var user_uid_list = snapshot.child('mapUsernameToUID').val();\r\n        var uid_val = user_uid_list[username];\r\n        var bio_cont = snapshot.child(\"users\").child(uid_val).child(\"bio\").val();\r\n        if (bio_cont != undefined) {\r\n          //resolve(bio_cont);\r\n          bio_text = bio_cont;\r\n          return bio_cont;\r\n        }\r\n      });\r\n\r\n        resolve(\"done\")\r\n        return bio_text;\r\n    },\r\n\r\n    //Method to get list of followers and following\r\n    getFollowersAndFollowing: async function(username){\r\n\r\n        var result;\r\n        await firebase.database().ref().once('value', (snapshot) => {\r\n    \r\n          var mapUsernameToUID = snapshot.child(\"mapUsernameToUID\").val();\r\n          var UIDofUserIAmViewing = mapUsernameToUID[username];\r\n          var usersTheUserIsFollowing = [];\r\n          snapshot.child(\"users\").child(UIDofUserIAmViewing).child(\"following\").forEach((function(child)\r\n          {\r\n            usersTheUserIsFollowing.push(child.key);\r\n          }));\r\n          var followersTheUserHas = snapshot.child(\"users\").child(UIDofUserIAmViewing).child(\"followers\").val();\r\n          var followers = \"\";\r\n          if(followersTheUserHas == null)\r\n          {\r\n            followers = \"\";\r\n          }\r\n          else\r\n          {\r\n            for(var i = 0; i < followersTheUserHas.length - 1; i++)\r\n            {\r\n              followers += followersTheUserHas[i] + \", \";\r\n            }\r\n            followers += followersTheUserHas[followersTheUserHas.length - 1];\r\n          }\r\n          var following = \"\";\r\n          if(usersTheUserIsFollowing == null || usersTheUserIsFollowing === undefined || usersTheUserIsFollowing.length === 0)\r\n          {\r\n            following = \"\";\r\n          }\r\n          else\r\n          {\r\n            for(var i = 0; i < usersTheUserIsFollowing.length - 1; i++)\r\n            {\r\n              following += usersTheUserIsFollowing[i] + \", \";\r\n            }\r\n            following += usersTheUserIsFollowing[usersTheUserIsFollowing.length - 1];\r\n          }\r\n          result = {followers, following};\r\n          \r\n        });\r\n\r\n        resolve(\"done\");\r\n        return result;\r\n    },\r\n\r\n    //Method to follow user I am viewing\r\n    followUserIAmViewing: async function(username){\r\n        \r\n        await firebase.database().ref().once('value', (snapshot) => {\r\n          var currUserUID = firebase.auth().currentUser.uid;\r\n          var mapUIDToUsername = snapshot.child(\"mapUIDtoUsername\").val();\r\n          var currUserName = mapUIDToUsername[firebase.auth().currentUser.uid];\r\n          var followedUserName = username;\r\n          var mapUsernameToUID = snapshot.child(\"mapUsernameToUID\").val();\r\n          var followedUserUID = mapUsernameToUID[followedUserName];\r\n\r\n          var date = new Date();\r\n          var timestamp = date.getTime();\r\n          firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"followingTimestamp\").child(followedUserName).set(timestamp);\r\n\r\n          var usersIAmFollowing = snapshot.child(\"users\").child(currUserUID).child(\"following\").val();\r\n          // var usersIAmFollowing = snapshot.child(\"users\").child(currUserUID).child(\"following\").forEach(function(childSnapshot) \r\n          // {\r\n          //   var childKey = childSnapshot.key;\r\n          //   toast(\"CHILD KEY: \" + childKey);\r\n          //   var childData = childSnapshot.val();\r\n          //   toast(\"CHILD VALUE: \" + childData);\r\n          // });\r\n\r\n          var followersOfUserIamFollowing = snapshot.child(\"users\").child(followedUserUID).child(\"followers\").val();\r\n\r\n          if(followedUserUID !== currUserUID)\r\n          {\r\n            if(usersIAmFollowing == null || usersIAmFollowing.length == 0)\r\n            {\r\n              var topicsList = [];\r\n              topicsList.push(\"None\");\r\n              if(snapshot.child(\"users\").child(firebase.auth().currentUser.uid).child(\"following\").hasChild(followedUserName) === false)\r\n              {\r\n                firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"following\").child(followedUserName).set(topicsList);\r\n              }\r\n            }\r\n            else\r\n            {\r\n              var topicsList = [];\r\n              topicsList.push(\"None\");\r\n              if(snapshot.child(\"users\").child(firebase.auth().currentUser.uid).child(\"following\").hasChild(followedUserName) === false)\r\n              {\r\n                firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"following\").child(followedUserName).set(topicsList);\r\n              }\r\n            }\r\n\r\n            if(followersOfUserIamFollowing == null || followersOfUserIamFollowing.length === 0)\r\n            {\r\n                var usersList = [];\r\n                usersList.push(currUserName);\r\n                firebase.database().ref().child(\"users\").child(followedUserUID).child(\"followers\").set(usersList);\r\n            }\r\n            else\r\n            {\r\n              if(followersOfUserIamFollowing.includes(currUserName) === false)\r\n              {\r\n                followersOfUserIamFollowing.push(currUserName);\r\n                firebase.database().ref().child(\"users\").child(followedUserUID).child(\"followers\").set(followersOfUserIamFollowing);\r\n              }\r\n            }\r\n          }\r\n        });\r\n\r\n        resolve(\"done\");\r\n      },\r\n\r\n    //Method to unfollow user I am viewing\r\n    unfollowUserIAmViewing: async function(username)\r\n    {\r\n      await firebase.database().ref().once('value', (snapshot) => {\r\n        var mapUIDToUsername = snapshot.child(\"mapUIDtoUsername\").val();\r\n        var currUserName = mapUIDToUsername[firebase.auth().currentUser.uid];\r\n        var followedUserName = username;\r\n        var mapUsernameToUID = snapshot.child(\"mapUsernameToUID\").val();\r\n        var followedUserUID = mapUsernameToUID[followedUserName];\r\n\r\n        var followersOfUserIamFollowing = snapshot.child(\"users\").child(followedUserUID).child(\"followers\").val();\r\n\r\n        if(firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"following\").child(followedUserName) != null)\r\n        {\r\n          firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"following\").child(followedUserName).remove();\r\n        }\r\n\r\n        if(followersOfUserIamFollowing.includes(currUserName))\r\n        {\r\n          var usersList = [];\r\n          for(var i = 0; i < followersOfUserIamFollowing.length; i++)\r\n          {\r\n            if(followersOfUserIamFollowing[i] !== currUserName)\r\n            {\r\n              usersList.push(followersOfUserIamFollowing[i]);\r\n            }\r\n          }\r\n          firebase.database().ref().child(\"users\").child(followedUserUID).child(\"followers\").set(usersList);\r\n        }\r\n      });\r\n\r\n      resolve(\"done\");\r\n    },\r\n    \r\n    //Description: Method to add and remove topics from a followed user\r\n    addAndRemoveTopicsFromFollowedUser: async function(username, topicsFollow, topicsUnFollow)\r\n    {\r\n      await firebase.database().ref().once('value', (snapshot) => {\r\n        var currUserUID = firebase.auth().currentUser.uid;\r\n        var mapUIDToUsername = snapshot.child(\"mapUIDtoUsername\").val();\r\n        var currUserName = mapUIDToUsername[firebase.auth().currentUser.uid];\r\n        var followedUserName = username;\r\n        var mapUsernameToUID = snapshot.child(\"mapUsernameToUID\").val();\r\n        var followedUserUID = mapUsernameToUID[followedUserName];\r\n\r\n        if(snapshot.child(\"users\").child(currUserUID).child(\"following\").hasChild(username) === false)\r\n        {\r\n          //ERROR: cannot find username - user should be followed before adding/removing topics from that user\r\n        }\r\n        else\r\n        {\r\n           //user has been verified as followed\r\n          var topicsList = [];\r\n          for(var i = 0; i < topicsFollow.length; i++)\r\n          {\r\n            topicsList.push(topicsFollow[i]);\r\n          }\r\n          for(var i = 0; i < topicsUnFollow.length; i++)\r\n          {\r\n            if(topicsList.includes(topicsUnFollow[i]))\r\n            {\r\n              var index = topicsList.indexOf(topicsUnFollow[i]);\r\n              if(index > -1)\r\n              {\r\n                topicsList.splice(index, 1);\r\n              }\r\n            }\r\n          }\r\n          firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"following\").child(followedUserName).set(topicsList);\r\n        }\r\n      });\r\n      \r\n      resolve(\"done\");\r\n    },\r\n\r\n    getFollowedAndUnfollowedTopics: async function(username)\r\n    {\r\n      var result;\r\n      await firebase.database().ref().once('value', (snapshot) => {\r\n        var currUserUID = firebase.auth().currentUser.uid;\r\n        var mapUIDToUsername = snapshot.child(\"mapUIDtoUsername\").val();\r\n        var currUserName = mapUIDToUsername[firebase.auth().currentUser.uid];\r\n        var followedUserName = username;\r\n        var mapUsernameToUID = snapshot.child(\"mapUsernameToUID\").val();\r\n        var followedUserUID = mapUsernameToUID[followedUserName];\r\n\r\n        var writtenTopics = snapshot.child(\"users\").child(followedUserUID).child(\"writtenTopics\").val();\r\n        var tList = [];\r\n        if(writtenTopics != null && writtenTopics !== undefined)\r\n        {\r\n          for(var v = 0; v < writtenTopics.length; v++)\r\n          {\r\n            if(writtenTopics[v] !== undefined)\r\n            {\r\n              tList.push(writtenTopics[v].topics);\r\n            }\r\n          }\r\n        }\r\n        console.log(\"WRITTEN TOPICS\", tList);\r\n        var followedTopics = snapshot.child(\"users\").child(currUserUID).child(\"following\").child(followedUserName).val();\r\n        var followedTopicsList = [];\r\n        if(followedTopics != null && followedTopics.length !== 0)\r\n        {\r\n          for(var index = 0; index < followedTopics.length; index++)\r\n          {\r\n            if(followedTopics[index] !== \"None\")\r\n            {\r\n              followedTopicsList.push(followedTopics[index]);\r\n            }\r\n          }\r\n        }\r\n        var unfollowedTopics = [];\r\n        if(tList != null && tList.length !== 0 && followedTopicsList != null && followedTopicsList.length !== 0)\r\n        {\r\n          for(var i = 0; i < tList.length; i++)\r\n          {\r\n            if(followedTopicsList.includes(tList[i]) === false)\r\n            {\r\n              if(tList[i] !== undefined)\r\n              {\r\n                unfollowedTopics.push(tList[i]);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        else\r\n        {\r\n          for(var i = 0; i < tList.length; i++)\r\n          {\r\n            unfollowedTopics.push(tList[i]);\r\n          }\r\n          followedTopicsList = [];\r\n        }\r\n\r\n        console.log(\"FOLLOWED TOPICS\", followedTopicsList);\r\n        console.log(\"UNFOLLOWED TOPICS\", unfollowedTopics);\r\n\r\n        result = {followedTopicsList, unfollowedTopics};\r\n      });\r\n\r\n      resolve(\"done\");\r\n      return result;\r\n    },\r\n    //Description: save current Users bio on database.\r\n    //@Params\r\n    //content: string which contians users bio.\r\n    postCurrentUserBio: async function(content) {\r\n        //save current users bio on firebase\r\n        await firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"bio\").set(content);\r\n        resolve(\"done\");\r\n    },\r\n\r\n    //Delete users data and authentication\r\n    //@Params\r\n    //content: string which contains username\r\n    deleteUserData: async function(username) {\r\n      firebase.database().ref().child(\"mapUIDtoUsername\").child(firebase.auth().currentUser.uid).remove();\r\n      firebase.database().ref().child(\"mapUsernameToEmail\").child(username).remove();\r\n      firebase.database().ref().child(\"mapUsernameToUID\").child(username).remove();\r\n\r\n      await firebase.database().ref().once('value', (snapshot) => {\r\n        var followingUsers = snapshot.child(\"users\").child(firebase.auth().currentUser.uid).child('followers').val();\r\n        var followedUsers =  snapshot.child(\"users\").child(firebase.auth().currentUser.uid).child('following').val();\r\n        //remove users name from the following list of the users who follow them\r\n        for (var key in followingUsers) {\r\n          console.log(followingUsers[key])\r\n          var followerUid = snapshot.child(\"mapUsernameToUID\").child(followingUsers[key]).val();\r\n          console.log(followerUid);\r\n          firebase.database().ref().child('users').child(followerUid).child('following').child(username).remove();\r\n        }\r\n\r\n        //remove users name from the followers list of the users who they follow\r\n        for (var key in followedUsers) {\r\n          var followingUserUid = snapshot.child(\"mapUsernameToUID\").child(key).val();\r\n          console.log(followingUserUid);\r\n          var followerlist = snapshot.child('users').child(followingUserUid).child('followers').val();\r\n          console.log(followerlist);\r\n          for (var index in followerlist) {\r\n            if(followerlist[index] === username) {\r\n              console.log(index);\r\n              firebase.database().ref().child('users').child(followingUserUid).child('followers').child(index).remove();\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      \r\n      firebase.auth().currentUser.delete();\r\n      firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).remove();\r\n    },\r\n    \r\n    /*\r\n    //gets a list of all the microblogs that the current user has posted and the posts he/she follows\r\n    getMicroblogsForCurrentUserAsync: async function() {\r\n    let result;\r\n    await firebase.database().ref().once('value', (snapshot) => {\r\n      var mapUIDtoUsername = snapshot.child(\"mapUIDtoUsername\").val();\r\n      var usernameOfUser = mapUIDtoUsername[firebase.auth().currentUser.uid];\r\n      var Microblogs = snapshot.child(\"users\").child(firebase.auth().currentUser.uid).child(\"Microblogs\").val();\r\n\r\n      result = {usernameOfUser, Microblogs};\r\n    });\r\n\r\n    return result;\r\n    }*/\r\n\r\n    //use this function to get all related microblogs for a user's timeline (including following)\r\n    getMicroblogsForUserTimeline: async function(username)\r\n    {\r\n      var Microblogs = [];\r\n      await firebase.database().ref().once('value', (snapshot) => {\r\n        var mapUsernameToUID = snapshot.child(\"mapUsernameToUID\").val();\r\n        var uidOfUser = mapUsernameToUID[username];\r\n        snapshot.child(\"users\").child(uidOfUser).child(\"following\").forEach(function(childSnapshot)\r\n        {\r\n          var followedUsername = childSnapshot.key;\r\n          var followedTopics = childSnapshot.val();\r\n          var uidOfFollowedUser = mapUsernameToUID[followedUsername];\r\n          var microblogs = snapshot.child(\"users\").child(uidOfFollowedUser).child(\"Microblogs\").val();\r\n\r\n          var followingTimestamp = snapshot.child(\"users\").child(uidOfUser).child(\"followingTimestamp\").val();\r\n          var followingTimestampOfFollowedUser = followingTimestamp[followedUsername];\r\n          var writtenTopics = snapshot.child(\"users\").child(uidOfFollowedUser).child(\"writtenTopics\").val();\r\n          \r\n          if(microblogs != undefined || microblogs != null)\r\n          {\r\n            for(var i = 0; i < microblogs.length; i++)\r\n            {\r\n\r\n              //first check if any new topics were added and include the first microblog with that new topic highlighted\r\n              var currMicroblog = microblogs[i];\r\n              var topicsList = currMicroblog.topics;\r\n\r\n              if (topicsList != undefined || topicsList != null) {\r\n\r\n                var foundNewTopic = false;\r\n                for (var t = 0; t < topicsList.length; t++) {\r\n                  \r\n                  for (var w = 0; w < writtenTopics.length; w++) {\r\n                    if (writtenTopics[w].topics == topicsList[t]) {\r\n                      if (writtenTopics[w].timestamp == microblogs[i].timestamp) {\r\n                        if (followingTimestampOfFollowedUser < writtenTopics[w].timestamp) {\r\n                          //console.log(\"true\", microblogs[i].timestamp);\r\n                          microblogs[i].topics[t] = \"/h\" + microblogs[i].topics[t];\r\n                          foundNewTopic = true;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n\r\n\r\n                }\r\n\r\n                if (foundNewTopic) {\r\n                  Microblogs.push(currMicroblog);\r\n                  continue;\r\n                }\r\n\r\n\r\n                for(var j = 0; j < topicsList.length; j++)\r\n                {\r\n                  if(followedTopics.includes(topicsList[j]))\r\n                  {\r\n                    Microblogs.push(currMicroblog);\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n      });\r\n\r\n      resolve(\"done\");\r\n      //Sort Microblogs based on timestamp\r\n      Microblogs.sort(function(m1, m2)\r\n      {\r\n        return m1.timestamp > m2.timestamp ? -1 : 1;\r\n      });\r\n      return Microblogs;\r\n    },\r\n\r\n    getMicroblogsForCurrentUser: async function(username) {\r\n        var Microblogs;\r\n        firebase.database().ref().once('value', (snapshot) => {\r\n          let mapUsernameToUID = snapshot.child(\"mapUsernameToUID\").val();\r\n          //let mapUIDtoUsername = snapshot.child(\"mapUIDtoUsername\").val();\r\n          let uidOfUser = mapUsernameToUID[username];\r\n          Microblogs = snapshot.child(\"users\").child(uidOfUser).child(\"Microblogs\").val();\r\n          if(Microblogs != null)\r\n          {\r\n              \r\n            \r\n          }\r\n        });\r\n        if(Microblogs != null && Microblogs.length !== 0)\r\n        {\r\n          Microblogs.sort(function(m1, m2)\r\n          {\r\n            return m1.timestamp > m2.timestamp ? -1 : 1;\r\n          });\r\n        }\r\n        return Microblogs;\r\n      },\r\n\r\n      getMicroblogsForUser: async function(username) {\r\n        var Microblogs;\r\n        const t = await firebase.database().ref().once('value', (snapshot) => {\r\n          let mapUsernameToUID = snapshot.child(\"mapUsernameToUID\").val();\r\n          //let mapUIDtoUsername = snapshot.child(\"mapUIDtoUsername\").val();\r\n          let uidOfUser = mapUsernameToUID[username];\r\n          Microblogs = snapshot.child(\"users\").child(uidOfUser).child(\"Microblogs\").val();\r\n          if(Microblogs != null)\r\n          {\r\n              \r\n            \r\n          }\r\n        });\r\n        resolve(\"done\");\r\n        if(Microblogs != null && Microblogs.length !== 0)\r\n        {\r\n          Microblogs.sort(function(m1, m2)\r\n          {\r\n            return m1.timestamp > m2.timestamp ? -1 : 1;\r\n          });\r\n        }\r\n        return Microblogs;\r\n      },\r\n\r\n      getUserdataOfLoggedInUser: async function() {\r\n        var userData;\r\n\r\n        var loggedIn = true;\r\n\r\n        \r\n\r\n        firebase.auth().onAuthStateChanged(async function(user) {          \r\n          if (user) {\r\n\r\n            userData = await helperfunctions.getUserdataOfUser(user.uid, loggedIn);\r\n            resolve(\"done\");\r\n            return userData;\r\n          } else {\r\n            console.log(\"null\");\r\n            // No user is signed in.\r\n          }\r\n        });\r\n\r\n        \r\n        /* while(userData == undefined){\r\n          console.log(\"undefined\")\r\n        } */\r\n        \r\n      },\r\n\r\n      getUserdataOfUser : async function(uid, loggedIn) {\r\n        var userData;\r\n\r\n        \r\n        await firebase.database().ref().once('value', (snapshot) => {\r\n          var UIDtoUsername = snapshot.child('mapUIDtoUsername').val();\r\n          var username = UIDtoUsername[uid];\r\n          userData = new UserData(username, loggedIn, true);\r\n          //this.email = user.email;\r\n        });\r\n\r\n        resolve(\"done\");\r\n        return userData;\r\n      }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default helperfunctions;\r\n","import React, { Component } from 'react';\r\nimport {MicroblogWriterView} from \"./MicroblogWriterView\"\r\nimport helperfunctions from \"../helperfunctions\";\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nclass MicroblogWriter extends React.Component{\r\n\r\n    constructor(props) {\r\n        //TODO: THIS\r\n      super(props);\r\n\r\n      this.microblogData = new Object();\r\n\r\n      this.microblogPosted = props.microblogPosted;\r\n\r\n      this.microblogData.name = props.username;\r\n      this.microblogData.handle = props.username;\r\n      this.microblogData.image = \"props.image\";\r\n\r\n      this.submitMicroblog = this.submitMicroblog.bind(this);\r\n      this.addTopic = this.addTopic.bind(this);\r\n\r\n      this.topics = [];\r\n      this.numTopics = 0;\r\n    }\r\n\r\n    addTopic(event) {\r\n        if (document.getElementById(\"addTopics\").value != \"\" && document.getElementById(\"addTopics\").value != \",\") {\r\n          this.topics.push(document.getElementById(\"addTopics\").value);\r\n          if (document.getElementById(\"showTopics\").value == \"\") {\r\n\r\n            document.getElementById(\"showTopics\").value = document.getElementById(\"addTopics\").value;\r\n          } else {\r\n            \r\n            document.getElementById(\"showTopics\").value = document.getElementById(\"showTopics\").value + \", \" + document.getElementById(\"addTopics\").value;\r\n          }\r\n          document.getElementById(\"addTopics\").value = \"\";\r\n        }\r\n    }\r\n\r\n    async submitMicroblog(event) {\r\n        var content = document.getElementById(\"content\").value;\r\n        console.log(content);\r\n        if(content.length > 250 || content.length <= 0)\r\n        {\r\n          //toast(\"Cannot post microblog\");\r\n          toast(\"Cannot post microblog. Make sure the content is 250 characters or less\");\r\n        }\r\n        else\r\n        {\r\n          await helperfunctions.addMicroBlogToCurrentUser(content, this.topics);\r\n          //await helperfunctions.addMicroBlogToCurrentUser(content, this.topics);\r\n          this.microblogPosted();\r\n          this.topics = [];\r\n        }\r\n    \r\n        document.getElementById(\"content\").value = \"\";\r\n        document.getElementById(\"showTopics\").value = \"\";\r\n        document.getElementById(\"addTopics\").value = \"\";\r\n    }\r\n\r\n    render(){\r\n        let name = `${this.microblogData.name}`\r\n        let handle = `@${this.microblogData.name}`\r\n        let image = this.microblogData.image\r\n        \r\n        return(\r\n            \r\n            <MicroblogWriterView \r\n                name={name}\r\n                handle={handle}\r\n                image={image}\r\n                submitMicroblog={this.submitMicroblog}\r\n                addTopic={this.addTopic}\r\n            /> \r\n        );\r\n    }\r\n}\r\nexport default MicroblogWriter;","import React from \"react\";\r\nimport \"./TopBar.css\";\r\nimport logo from \"../logo192.png\";\r\n\r\nconst TopBarTwisster = ({ goLogout, goToProfile, goToChat, goToLanding }) => {\r\n  return (\r\n    <div className=\"inner-body\">\r\n      <label className=\"top-bar-twisster\">Twistter</label>\r\n      <button className=\"top-bar-logout\" id=\"logout\" onClick={goLogout}>\r\n        Logout\r\n      </button>\r\n      <button className=\"top-bar-profile\" id=\"profile\" onClick={goToProfile}>\r\n        Profile\r\n      </button>\r\n      <button className=\"top-bar-chat\" id=\"chat\" onClick={goToChat}>\r\n        {/* <img className=\"picture\" src={logo} alt=\"my image\" onClick={goToChat} /> */}\r\n        Chat\r\n      </button>\r\n      <button className=\"top_bar_home\" id=\"Home\" onClick={goToLanding}>\r\n        Home\r\n      </button>\r\n      {/* <input className=\"top-bar-search\" placeholder=\"Search\"/>\r\n        <button className=\"top-bar-button\" type=\"button\" onClick={onClickProfile}>Go to your profile</button>  */}\r\n    </div>\r\n  );\r\n};\r\nexport default TopBarTwisster;\r\n","import TopBarTwisster from \"./TopBarView\";\r\nimport React, { PureComponent } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport firebase from \"firebase\";\r\nimport { throwStatement } from \"@babel/types\";\r\nclass TopBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.userData = props.userData;\r\n    this.goLogout = this.goLogout.bind(this);\r\n    this.goToProfile = this.goToProfile.bind(this);\r\n    this.goToChat = this.goToChat.bind(this);\r\n    this.goToLanding = this.goToLanding.bind(this);\r\n  }\r\n\r\n  goLogout = async event => {\r\n    firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(function() {\r\n        console.log(\"Signout succesful\");\r\n      })\r\n      .catch(function(error) {\r\n        console.log(\"Error\");\r\n      });\r\n\r\n    this.props.history.push({\r\n      pathname: \"/login\"\r\n    });\r\n  };\r\n\r\n  goToProfile() {\r\n    this.props.history.push({\r\n      pathname: \"/profile\",\r\n      state: { userData: this.userData }\r\n    });\r\n  }\r\n\r\n  goToChat() {\r\n    this.props.history.push({\r\n      pathname: \"/chat\",\r\n      state: { userData: this.userData }\r\n    });\r\n  }\r\n\r\n  goToLanding() {\r\n    this.props.history.push({\r\n      pathname: \"/landing\",\r\n      state: { userData: this.userData}\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"top-bar\">\r\n        <TopBarTwisster\r\n          goLogout={this.goLogout}\r\n          goToProfile={this.goToProfile}\r\n          goToChat={this.goToChat}\r\n          goToLanding={this.goToLanding}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(TopBar);\r\n","import React from \"react\";\r\nimport MicroblogBox from '../MicroblogBox'\r\nimport './Landing.css'\r\n\r\n\r\nconst Image = ({image, theid}) => {\r\n\r\n  console.log(theid);\r\n\r\n  return(\r\n    <img id = {theid} alt=\"Logo\" className=\"picture\">\r\n    </img>\r\n  )\r\n}\r\n\r\nconst Handle = (props) => {\r\n  return(\r\n    <div className=\"handle\">\r\n      {props.handle}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Name = (props) => {\r\n  return(\r\n    <div className=\"name\">\r\n      {props.name}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Tweet = (props) => {\r\n  return(\r\n    <div className=\"tweet\">\r\n      {props.tweet}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Topics = (props) => {\r\n  return(\r\n    <div className=\"topics\">\r\n      {props.topics}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst MicroblogView = (props) => {\r\n  return(\r\n    <MicroblogBox>\r\n      <div className=\"inner-body\">\r\n        <Image image={props.image} theid={props.unitid}/>\r\n        <div className=\"body\">\r\n          <div className=\"inner-body\">\r\n            <Name name={props.name}/>\r\n            <Handle handle={props.handle}/>\r\n          </div>\r\n          <Tweet tweet={props.tweet}/>\r\n          <div class=\"likes\">\r\n            <button class=\"like-button\" onClick={props.likeButtonClicked}>{props.likeButtonText}</button>\r\n            <label class=\"num-likes\">{props.numLikes}</label>\r\n          </div>\r\n          <Topics topics={props.topics}/>\r\n        </div>\r\n      </div>\r\n    </MicroblogBox>\r\n  )\r\n}\r\n\r\n\r\nexport {MicroblogView};","import React from \"react\";\r\nimport './Landing.css'\r\n\r\nconst TopicView = (props) => {\r\n    return(\r\n      \r\n          <div className=\"topic\">\r\n            {props.text}\r\n          </div>\r\n        \r\n    )\r\n}\r\nexport default TopicView \r\n","import React from \"react\";\r\nimport './Landing.css'\r\n\r\nconst TopicHighlightedView = (props) => {\r\n    return(\r\n      \r\n          <div className=\"topic-highlighted\">\r\n            {props.text}\r\n          </div>\r\n        \r\n    )\r\n}\r\nexport default TopicHighlightedView \r\n","import React, { Component } from 'react';\r\n\r\nimport  TopicView  from './TopicView.js';\r\nimport  TopicHighlightedView  from './TopicHighlightedView.js';\r\n\r\n\r\nclass Topic extends React.Component{\r\n\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.topic = new Object();\r\n\r\n\r\n      this.topic.text = props.data;\r\n      this.topic.highlight = props.highlight;\r\n    }\r\n\r\n    render(){\r\n        let text = `${this.topic.text}`\r\n        if(this.topic.highlight){\r\n            return(\r\n                <TopicHighlightedView \r\n                    text={text}\r\n                />\r\n            );\r\n        }\r\n        else{\r\n            return(\r\n                <TopicView \r\n                    text={text}\r\n                />\r\n            );\r\n        }\r\n    }\r\n}\r\nexport default Topic;\r\n","import React, { Component } from 'react';\r\nimport '../css/Landing.css'\r\nclass TopicsBox extends React.Component{\r\n\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n\r\n    render(){        \r\n        return(\r\n            <div>\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default TopicsBox;","import React, { PureComponent } from 'react'\r\nimport Topic from \"../Topic\"\r\nimport TopicsBox from \"./TopicsBox.js\"\r\n\r\nimport './Topics.css';\r\nclass Topics extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.topics = props.topics;\r\n\r\n        this.num = 0;\r\n        //this.username = props.username;\r\n    }\r\n\r\n    createTopics = (topicsArray) => {\r\n        var topics = [];\r\n        for (var i = 0; i < topicsArray.length; i++) {\r\n            // note: we add a key prop here to allow react to uniquely identify each\r\n            // element in this array. see: https://reactjs.org/docs/lists-and-keys.html\r\n            this.num++;\r\n            var highlightbool = false;\r\n            if (topicsArray[i].length > 2) {\r\n              if (topicsArray[i].substr(0, 2) == \"/h\") {\r\n                topicsArray[i] = topicsArray[i].substr(2, topicsArray[i].length - 2);\r\n                highlightbool = true;\r\n              }\r\n            }\r\n            topics.push(<Topic key={i} data={topicsArray[i]} highlight={highlightbool} />);\r\n        }\r\n        return <div>{topics}</div>;\r\n    }\r\n\r\n    render() {\r\n      if(this.props.topics != null){\r\n        return(\r\n          <div>\r\n              <TopicsBox>\r\n                {/* <table id=\"topics\"> */}\r\n                  {/* <tr>\r\n                    <th>Topics</th>\r\n                  </tr> */}\r\n                  {this.createTopics(this.props.topics)}\r\n                {/* </table> */}\r\n              </TopicsBox>    \r\n          </div>\r\n        )\r\n      }\r\n      else{\r\n        return null;\r\n      }\r\n    }\r\n}\r\nexport default Topics;","import React, { Component } from 'react';\r\nimport { MicroblogView } from './MicroblogView.js';\r\nimport Topics from '../Topics'\r\nimport MicroblogBox from '../MicroblogBox/index.js';\r\nimport helperfunctions from \"../helperfunctions\";\r\nimport firebase from \"firebase\";\r\nimport { nullLiteral } from '@babel/types';\r\n\r\nclass Microblog extends React.Component{\r\n\r\n   // static counter;\r\n    \r\n    \r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.microblogData = new Object();\r\n      if (Microblog.counter == undefined) {\r\n          Microblog.counter = 0;\r\n      }\r\n      this.counter = Microblog.counter;\r\n      this.blogid = \"blogid\" + this.counter;\r\n      Microblog.counter++;\r\n\r\n\r\n      this.microblogData.name = props.username;\r\n      this.microblogData.handle = props.username;\r\n      this.microblogData.tweet = props.data.content;\r\n      this.microblogData.image = \"props.image\";\r\n      this.microblogData.id = props.id;\r\n\r\n      this.fetchImage = this.fetchImage.bind(this);\r\n\r\n      this.likeButtonClicked = this.likeButtonClicked.bind(this);\r\n      this.microblogData.topics = props.data.topics;\r\n\r\n      this.microblogData.numLikes = props.numLikes;\r\n      \r\n      this.state = {\r\n        like: props.liked\r\n      }\r\n    }\r\n\r\n    async likeButtonClicked()\r\n    {\r\n        var username = await helperfunctions.retrieveUsername(firebase.auth().currentUser.uid);\r\n        if(this.state.like){\r\n            this.microblogData.numLikes--;\r\n            await helperfunctions.unlikeMicroblog(this.microblogData, username)\r\n            this.setState({like : false});  \r\n\r\n        }\r\n        else{\r\n            this.microblogData.numLikes++;\r\n            await helperfunctions.likeMicroblog(this.microblogData, username)\r\n            this.setState({like : true});  \r\n\r\n\r\n        }\r\n    }\r\n\r\n    async fetchImage() {\r\n\r\n        var picname;\r\n        var picname2;\r\n        var strangeruid;\r\n        console.log(\"fetchImage running\");\r\n\r\n        await firebase.database().ref().once('value', (snapshot)  => {\r\n            /*var userList = snapshot.child(\"users\").val();\r\n            let user = userList[firebase.auth().currentUser.id];*/\r\n            console.log(this.microblogData.name);\r\n            strangeruid = snapshot.child(\"mapUsernameToUID\").child(this.microblogData.name).val();\r\n            picname = snapshot.child(\"users\").child(strangeruid).child(\"picture\").val();\r\n            picname2 = snapshot.child(\"users\").child(firebase.auth().currentUser.uid).child(\"picture\").val();\r\n            //picname = user[\"picture\"].val();\r\n            console.log(\"was here hello world\");\r\n        });\r\n\r\n        console.log(picname);\r\n        console.log(picname2);\r\n        //console.log(this.blogid);\r\n        var toMatch = this.blogid;\r\n\r\n        if (true) {\r\n \r\n\r\n            await firebase.storage().ref().child(picname).getDownloadURL().then(function(url) {\r\n                var toReturn = url;\r\n                console.log(toMatch);\r\n\r\n                document.querySelectorAll('img').forEach(function(item){\r\n                   // console.log(this.blogid);\r\n                    if (item.id == toMatch) {\r\n                        item.src = toReturn;\r\n                    }\r\n\r\n                })\r\n                //return toReturn;\r\n\r\n            }).catch(function(error) {\r\n                switch(error.code) {\r\n                    case 'storage/object-not-found':\r\n                        console.log(\"object not found\");\r\n                        break;\r\n                    case 'storage/unauthorized' :\r\n                        console.log(\"unauthorized\");\r\n                        break;\r\n                    case 'storage/unknown':\r\n                        console.log(\"unknown\");\r\n                        break;\r\n\r\n\r\n                }\r\n            });\r\n\r\n            await firebase.storage().ref().child(picname2).getDownloadURL().then(function(url) {\r\n                var toReturn = url;\r\n                document.querySelectorAll('img').forEach(function(item){\r\n                    if (item.id == \"img3\") {\r\n                        item.src = toReturn;\r\n                    }\r\n\r\n                })\r\n                //return toReturn;\r\n\r\n            }).catch(function(error) {\r\n                switch(error.code) {\r\n                    case 'storage/object-not-found':\r\n                        console.log(\"object not found\");\r\n                        break;\r\n                    case 'storage/unauthorized' :\r\n                        console.log(\"unauthorized\");\r\n                        break;\r\n                    case 'storage/unknown':\r\n                        console.log(\"unknown\");\r\n                        break;\r\n\r\n\r\n                }\r\n            });            \r\n\r\n\r\n\r\n        }\r\n        else {\r\n            return firebase.storage().ref(picname);\r\n        }\r\n\r\n        console.log(\"ends now\");\r\n\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchImage();\r\n    }\r\n\r\n\r\n    render(){\r\n        var likeText = \"Placeholder\"\r\n\r\n        if(this.state.like){\r\n            likeText = \"Unlike\"\r\n        }\r\n        else{\r\n            likeText = \"Like\"\r\n        }\r\n\r\n        let likeButtonText = likeText;\r\n        let name = `${this.microblogData.name}`\r\n        let handle = `@${this.microblogData.name}`\r\n        //let image = this.microblogData.image\r\n        let tweet = this.microblogData.tweet\r\n        let topics = this.microblogData.topics\r\n        let numLikes = this.microblogData.numLikes;\r\n        \r\n        let likeButtonClicked = this.likeButtonClicked;\r\n        return(\r\n            <div>\r\n                <MicroblogBox>\r\n                    <MicroblogView \r\n                        key={this.microblogData.key}\r\n                        name={name}\r\n                        handle={handle}\r\n                        image={nullLiteral}\r\n                        unitid = {this.blogid}\r\n                        tweet={tweet}\r\n                        likeButtonClicked={likeButtonClicked}\r\n                        likeButtonText={likeButtonText}\r\n                        numLikes={numLikes}\r\n                    /> \r\n\r\n                    <Topics topics={topics} />\r\n                </MicroblogBox>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Microblog;","import React, { PureComponent } from 'react'\r\nimport Microblog from \"../Microblog\"\r\n\r\nclass Microblogs extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.microblogs = props.microblogs;\r\n        this.username = props.username;\r\n    }\r\n\r\n    createMicroblogs = (microblogsArray, username) =>{\r\n        var microblogs = [];\r\n        for (var i = 0; i < microblogsArray.length; i++) {\r\n            // note: we add a key prop here to allow react to uniquely identify each\r\n            // element in this array. see: https://reactjs.org/docs/lists-and-keys.html\r\n            var liked = false;\r\n            if(microblogsArray[i].userLikes !== undefined && microblogsArray[i].userLikes.includes(username))\r\n            {\r\n              liked = true;\r\n            }\r\n            microblogs.push(<Microblog key={i} data={microblogsArray[i]} username={microblogsArray[i].user} id={microblogsArray[i].id} liked={liked} numLikes={microblogsArray[i].numLikes}/>);\r\n        }\r\n        return <div>{microblogs}</div>;\r\n    }\r\n\r\n    render() {\r\n      if(this.props.microblogs != null){\r\n        return(\r\n          <div>\r\n            {this.createMicroblogs(this.props.microblogs, this.username)}\r\n          </div>\r\n        )\r\n      }\r\n      else{\r\n        return null;\r\n      }\r\n    }\r\n}\r\nexport default Microblogs;","import React from 'react';\r\nimport './AutoCompleteSearchBar.css';\r\nimport firebase from \"firebase\";\r\nimport { withRouter } from \"react-router\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nclass AutoCompleteSearchBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            suggestions: [],\r\n            text: '',\r\n        }\r\n        this.searchForUser = this.searchForUser.bind(this);\r\n    }\r\n\r\n    onTextChanged = (e) => {\r\n        const { items } = this.props;\r\n        const value = e.target.value;\r\n        let suggestions = [];\r\n        if (value.length > 0) {\r\n            const regex  = new RegExp(`^${value}`, 'i');\r\n            console.log(items);\r\n            suggestions = items.sort().filter(v => regex.test(v));\r\n        }\r\n        this.setState(() => ({ suggestions, text: value }));\r\n    }\r\n\r\n    suggestionSelected (value) {\r\n        this.setState(() => ({\r\n            text: value,\r\n            suggestions: [],\r\n        }))\r\n    }\r\n\r\n    renderSuggestions () {\r\n        const {suggestions} = this.state;\r\n        if (suggestions.length === 0) {\r\n            return null;\r\n        }\r\n        return (\r\n            <ul>\r\n                {suggestions.map((item) => <li onClick ={() => this.suggestionSelected(item)}>{item}</li>)}\r\n            </ul>\r\n        )\r\n    }\r\n    \r\n    searchForUser() {\r\n        const {text} = this.state;\r\n        const {items} = this.props;\r\n        const {username} = this.props;\r\n        var userexists = false;\r\n        var index;\r\n        for (index in items) {\r\n            if(items[index] == text) {\r\n                userexists = true;\r\n                break;\r\n            }\r\n        }\r\n        if (userexists) {\r\n            this.props.history.push({\r\n                pathname: \"/profile/\" + text,\r\n                state: { userData: this.userData }\r\n            });\r\n        }\r\n        else {\r\n            if (text != username) {\r\n                toast(\"Username not found!\");\r\n            }\r\n            else {\r\n                toast(\"You can visit your profile page by clicking the profile button\");\r\n            }\r\n        }\r\n    }\r\n\r\n    render ()  {\r\n        const {text} = this.state;\r\n        return (\r\n            <div>\r\n                <div className=\"AutoCompleteSearchBar\" >\r\n                    <input value={text} onChange={this.onTextChanged} type=\"text\" /> <button onClick={this.searchForUser}>Search</button>\r\n                    <ul>\r\n                        {this.renderSuggestions()}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(AutoCompleteSearchBar);","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport MicroblogWriter from \"../MicroblogWriter\";\r\nimport helperfunctions from \"../helperfunctions\";\r\nimport firebase from \"firebase\";\r\nimport TopBar from \"../TopBar\";\r\nimport Microblogs from \"../Microblogs\";\r\nimport AutoCompleteSearchBar from \"../AutoCompleteSearchBar/AutoCompleteSearchBar\"\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { resolve } from \"q\";\r\n\r\nclass Landing extends Component {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);        \r\n\r\n\r\n        this.state = {\r\n\r\n            loaded: false\r\n        }\r\n        \r\n        this.editMode = false;\r\n\r\n        this.microblogPosted = this.microblogPosted.bind(this);\r\n        this.getAllUsernames = this.getAllUsernames.bind(this);\r\n    }\r\n\r\n    async microblogPosted(){\r\n        await this.updateMicroblogs();\r\n        this.setState({loaded : true});\r\n    }\r\n\r\n    async updateMicroblogs(){\r\n        toast(\"Microblog posted!\");\r\n        this.microblogs = await helperfunctions.getMicroblogsForUserTimeline(this.userData.username);\r\n        resolve(\"done\");\r\n    }\r\n    \r\n    async componentDidMount() {\r\n\r\n        //verify user is logged in before displaying page\r\n        firebase.auth().onAuthStateChanged(async (user) => {\r\n            if (!user) {\r\n            this.props.history.push({\r\n                pathname: \"/login\"\r\n            });\r\n                return (null);\r\n            } else {\r\n                var loggedIn = true;\r\n                var user = firebase.auth().currentUser;\r\n                this.userData = await helperfunctions.getUserdataOfUser(user.uid, loggedIn);\r\n                \r\n            \r\n                this.microblogs = await helperfunctions.getMicroblogsForUserTimeline(this.userData.username);\r\n                this.setState({loaded : true});\r\n            }\r\n        });\r\n    }\r\n\r\n    goToProfile(){\r\n        this.props.history.push({\r\n          pathname: \"/profile\",\r\n          state: { userData: this.userData }\r\n        })\r\n    }\r\n\r\n    getAllUsernames(){\r\n        var user_list = [];\r\n        const promise = firebase.database().ref().once('value', (snapshot)=> {\r\n            var all_users = snapshot.child(\"mapUsernameToEmail\").val();\r\n            var key;\r\n            for (key in all_users) {\r\n                if (all_users[key] != firebase.auth().currentUser.email) {\r\n                    user_list.push(key);\r\n                }\r\n            }\r\n        });\r\n        return user_list;\r\n    }\r\n\r\n    render() {\r\n\r\n        if(this.state.loaded){\r\n            return(\r\n                <div>\r\n                    <TopBar userData={this.userData}/>\r\n                    <AutoCompleteSearchBar items={this.getAllUsernames()} username={this.userData.username} />\r\n                    <MicroblogWriter username={this.userData.username} microblogPosted={this.microblogPosted}/>\r\n                    <Microblogs microblogs={this.microblogs} username={this.userData.username} />                               \r\n                </div>\r\n                \r\n            );\r\n\r\n        } else{\r\n            return  null;\r\n        }\r\n        \r\n    }\r\n\r\n}\r\nexport default withRouter(Landing); ","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n\r\nimport Landing from \"../Landing\";\r\nimport TopBar from \"../TopBar\";\r\n\r\nclass LandingPage extends React.Component {\r\n  \r\n    constructor(props){\r\n      super(props); \r\n    }\r\n\r\n    render(){\r\n        return (\r\n          <div>\r\n            \r\n            <Landing />\r\n          </div>\r\n        );\r\n      }\r\n}\r\nexport default LandingPage;\r\n\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nconst checkboxes = [];\r\n  \r\n  const Checkbox = ({ type = 'checkbox', name, checked, onChange }) => (\r\n    <input type={type} name={name} checked={checked} onChange={onChange} />\r\n  );\r\n  \r\n  Checkbox.propTypes = {\r\n    type: PropTypes.string,\r\n    name: PropTypes.string.isRequired,\r\n    checked: PropTypes.bool,\r\n    onChange: PropTypes.func.isRequired,\r\n  }\r\n  \r\n  export { Checkbox };\r\n\r\n  export { checkboxes };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { checkboxes } from './checkBox.js';\r\nimport { Checkbox } from './checkBox.js';\r\nimport helperfunctions from '../helperfunctions.js';\r\n\r\nclass CheckboxContainer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = \r\n    {\r\n      checkedItems: new Map(),\r\n      loaded: false\r\n    }\r\n\r\n    this.username = props.username;\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.save = this.save.bind(this);\r\n\r\n    // const isChecked = true;\r\n    // let name = \"Hello\";\r\n    // let key = \"checkbox4\";\r\n    // let label = \"Check Box n\";\r\n    \r\n    // let newCheckbox = {\r\n    //   name: name,\r\n    //   key: key,\r\n    //   label: label\r\n    // }\r\n\r\n    // checkboxes.map(item => (      \r\n    //   this.state.checkedItems.set(item.name, isChecked)\r\n    // ));\r\n    \r\n    // checkboxes.push(newCheckbox);\r\n  }\r\n\r\n  handleChange(e) {\r\n    const item = e.target.name;\r\n    const isChecked = e.target.checked;\r\n    this.setState(prevState => ({ checkedItems: prevState.checkedItems.set(item, isChecked) }));\r\n  }\r\n\r\n  async componentDidMount()\r\n  {\r\n    this.topics = await helperfunctions.getFollowedAndUnfollowedTopics(this.username);\r\n    \r\n    for(var index = 0; index < this.topics.followedTopicsList.length; index++)\r\n    {\r\n      const isChecked = true;\r\n      let name = this.topics.followedTopicsList[index];\r\n      let key = this.topics.followedTopicsList[index] + \"\" + index;\r\n      let label = \"Check Box \" + index;\r\n      \r\n      let checkbox_new = {\r\n        name : name,\r\n        key: key,\r\n        label: label\r\n      };\r\n\r\n      // checkboxes.map(item => (\r\n      //   this.state.checkedItems.set(item.name, isChecked)\r\n      // ));\r\n      \r\n      this.state.checkedItems.set(name, isChecked);\r\n\r\n      checkboxes.push(checkbox_new);\r\n    }\r\n\r\n    for(var index = 0; index < this.topics.unfollowedTopics.length; index++)\r\n    {\r\n      const isChecked = false;\r\n      let name = this.topics.unfollowedTopics[index];\r\n      let key = this.topics.unfollowedTopics[index] + \"\" + index;\r\n      let label = \"Check Box \" + index;\r\n      \r\n      let checkbox_new = {\r\n        name : name,\r\n        key: key,\r\n        label: label\r\n      };\r\n\r\n      // checkboxes.map(item => (\r\n      //   this.state.checkedItems.set(item.name, isChecked)\r\n      // ));\r\n\r\n      this.state.checkedItems.set(name, isChecked);\r\n      checkboxes.push(checkbox_new);\r\n    }\r\n    //this.handleChange = this.handleChange.bind(this);\r\n    this.setState({loaded: true});\r\n  }\r\n\r\n  async save()\r\n  {\r\n    console.log(\"REACHED HERE\");\r\n    var followedTopics = [];\r\n    var unFollowedTopics = [];\r\n    for(const [k,v] of this.state.checkedItems.entries())\r\n    {\r\n      console.log(k,v);\r\n      if(v === true)\r\n      {\r\n        followedTopics.push(k);\r\n      }\r\n      else if(v === false)\r\n      {\r\n        unFollowedTopics.push(k);\r\n      }\r\n    }\r\n    await helperfunctions.addAndRemoveTopicsFromFollowedUser(this.username, followedTopics, unFollowedTopics);\r\n  }\r\n  // componentWillMount() {\r\n  //   const isChecked = true;\r\n  //   checkboxes.map(item => (      \r\n  //     this.state.checkedItems.set(item, isChecked)\r\n  //    ));\r\n  // }\r\n\r\n  render() {\r\n    if(this.state.loaded)\r\n    {\r\n      return (\r\n        <React.Fragment>\r\n          {\r\n            checkboxes.map(item => (\r\n              <label key={item.key}>\r\n                {item.name}\r\n                <Checkbox name={item.name} checked={this.state.checkedItems.get(item.name)} onChange={this.handleChange} />\r\n              </label>\r\n            ))\r\n          }\r\n          <button type=\"button\" onClick={this.save}>Save</button>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n    else\r\n    {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default CheckboxContainer;","import React from \"react\"\r\n\r\nconst ProfilepicView = ({image, changeProfPic, deletePic}) =>   {\r\n\r\n    return (\r\n        <div>\r\n        <img id = \"img1\" height=\"125\" width=\"125\"/>\r\n            <div>\r\n            <button onClick={changeProfPic}>Change profile picture </button>\r\n            </div>\r\n            <div>\r\n            <button onClick={deletePic}>Delete Picture / Change to default</button>\r\n            </div>\r\n\r\n        </div>\r\n        \r\n    );\r\n};\r\n\r\nexport default ProfilepicView;","import index from './index'\r\nimport React from \"react\"\r\nimport { file } from '@babel/types';\r\n\r\nconst NewProfilepicView = ({image, changeProfPic}) =>   {\r\n    return (\r\n        <div>\r\n        \r\n        <img id = \"img1\" height=\"125\" width=\"125\"/>\r\n            <div>\r\n            <button onClick={changeProfPic}>Change profile picture</button>\r\n            <input type=\"file\" name = \"input\" id = \"input\" onChange={changeProfPic}></input>\r\n            </div>\r\n\r\n            \r\n           \r\n        </div>\r\n        \r\n    );\r\n};\r\n\r\nexport default NewProfilepicView;","import React from 'react'\r\n\r\nconst VisitedProfilepic = ({image}) => {\r\n    return (\r\n        <div>\r\n            <img src={image} height=\"125\" width=\"125\"/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VisitedProfilepic;","import React from \"react\";\r\n\r\nconst VisitedUserView = ({ userProfile })=> {  \r\n  \r\n    return(\r\n        <div>\r\n          <form>\r\n              <h1 id='welcome'></h1>\r\n          <br></br>\r\n          <label>Followers:</label><label id='followers'>{userProfile.followersAndFollowing.followers}</label>\r\n          <br></br>\r\n          <label>Following:</label><label id='following'>{userProfile.followersAndFollowing.following}</label>\r\n          <br></br>\r\n          <button type='button' id=\"followbutton\" onClick={userProfile.followUser}>Follow</button>\r\n          <br></br>\r\n          <label>Bio:</label><label id='bio'>{userProfile.bio}</label>\r\n          <br></br>\r\n          </form>\r\n        </div>\r\n    );\r\n}; \r\nexport default VisitedUserView;","import React, { Component } from 'react'\r\nimport ProfilepicView from './ProfilepicView'\r\nimport NewProfilepicView from './NewProfilepicView'\r\nimport VisitedProfilepic from './VisitedProfilepic'\r\nimport {withRouter } from \"react-router\"\r\n\r\nimport firebase from 'firebase'\r\nimport VisitedUserView from '../User/UserProfileViews/VisitedUserView'\r\n\r\n\r\nclass ProfilePicture extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        var username;\r\n        this.visiting = this.props.visiting;\r\n        this.strangername = this.props.strangername;\r\n        this.toUpload = false;\r\n        this.upLoadImage = this.uploadImage.bind(this);\r\n        this.fetchImage = this.fetchImage.bind(this);\r\n        this.changePic = this.changePic.bind(this);\r\n\r\n    }\r\n\r\n\r\n    uploadImage = async event => {\r\n        console.log(\"upLoadImage running\");\r\n        var inpFile = document.getElementById('input');\r\n\r\n        const file = inpFile.files[0];\r\n\r\n        if (file != null) {\r\n          /*  await firebase.database().ref().once('value', (snapshot)  => {\r\n               // var userList = snapshot.child(\"users\").val();\r\n               // let user = userList[firebase.auth().currentUser.id];\r\n                //user.ref('picture').set(file.name);\r\n                //snapshot.child(\"users\").child(firebase.auth().currentUser.uid).child(\"picture\").set(file.name);\r\n                snapshot.child(\"users\").child(firebase.auth().currentUser.uid).child(\"picture\").set({'hola'};\r\n            });*/\r\n\r\n            firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"picture\").set(this.username);\r\n\r\n           const promise =  firebase.storage().ref().child(this.username).put(file).then(function(snapshot) {\r\n                console.log(\"file uploaded\");\r\n                //window.toUpload = false;\r\n                //forceUpdate();\r\n\r\n            });\r\n\r\n            promise.then(response => {\r\n                this.toUpload = false;\r\n                this.forceUpdate();\r\n            })\r\n            //this.toUpload = false;\r\n            //this.forceUpdate();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    \r\n\r\n    async fetchImage() {\r\n\r\n        var picname;\r\n        console.log(\"fetchImage running\");\r\n\r\n        await firebase.database().ref().once('value', (snapshot)  => {\r\n            /*var userList = snapshot.child(\"users\").val();\r\n            let user = userList[firebase.auth().currentUser.id];*/\r\n            this.username = snapshot.child(\"mapUIDtoUsername\").child(firebase.auth().currentUser.uid).val();\r\n            picname = snapshot.child(\"users\").child(firebase.auth().currentUser.uid).child(\"picture\").val();\r\n            //picname = user[\"picture\"].val();\r\n            console.log(\"was here hello world\");\r\n        });\r\n\r\n        console.log(picname);\r\n\r\n        if (true) {\r\n \r\n\r\n            await firebase.storage().ref().child(picname).getDownloadURL().then(function(url) {\r\n                var toReturn = url;\r\n                document.querySelectorAll('img').forEach(function(item){\r\n                    if (item.id == \"img1\") {\r\n                        item.src = toReturn;\r\n                    }\r\n                })\r\n                //return toReturn;\r\n\r\n            }).catch(function(error) {\r\n                switch(error.code) {\r\n                    case 'storage/object-not-found':\r\n                        console.log(\"object not found\");\r\n                        break;\r\n                    case 'storage/unauthorized' :\r\n                        console.log(\"unauthorized\");\r\n                        break;\r\n                    case 'storage/unknown':\r\n                        console.log(\"unknown\");\r\n                        break;\r\n\r\n\r\n                }\r\n            });\r\n\r\n\r\n\r\n        }\r\n        else {\r\n            return firebase.storage().ref(picname);\r\n        }\r\n\r\n        console.log(\"ends now\");\r\n\r\n\r\n    }\r\n\r\n    async visiterImage() {\r\n        var toRet;\r\n        var strangeruid;\r\n        var picname;\r\n\r\n        await firebase.database().ref().once('value', (snapshot) => {\r\n            strangeruid = snapshot.child(\"mapUsernameToUID\").child(this.strangername).val();\r\n            console.log(\"helloworld\");\r\n            console.log(this.strangername);\r\n            picname = snapshot.child(\"users\").child(strangeruid).child(\"picture\").val();\r\n        })\r\n        console.log(\"Yupdupbug\");\r\n        console.log(picname);\r\n\r\n        await firebase.storage().ref().child(picname).getDownloadURL().then(function(url) {\r\n            toRet = url;\r\n            document.querySelector('img').src = toRet;\r\n        }).catch(function(error) {\r\n            switch(error.code) {\r\n                case 'storage/object-not-found':\r\n                    console.log(\"object not found\");\r\n                    break;\r\n                case 'storage/unauthorized' :\r\n                    console.log(\"unauthorized\");\r\n                    break;\r\n                case 'storage/unknown':\r\n                    console.log(\"unknown\");\r\n                    break;\r\n\r\n\r\n            }\r\n        });\r\n\r\n    \r\n    }\r\n\r\n\r\n    deletePicture = async event => {\r\n\r\n        console.log(\"deletePicture running\");\r\n\r\n        const promise = firebase.database().ref().child(\"users\").child(firebase.auth().currentUser.uid).child(\"picture\").set(\"default.jpg\");\r\n \r\n\r\n        promise.then(response => {\r\n            this.forceUpdate();\r\n        })\r\n\r\n    }\r\n\r\n    changePic () {\r\n        console.log(\"changePic running\");\r\n        this.toUpload = true;\r\n        this.forceUpdate();\r\n    }\r\n\r\n   /* async componentDidMount() {\r\n        if (this.toUpload) {\r\n            this.setState(true);\r\n        }\r\n    }*/\r\n\r\n    render() {\r\n        if (this.visiting == false) {\r\n            if (this.toUpload == false) {\r\n                console.log(\"here first\");\r\n                return(\r\n                <div>\r\n                    <ProfilepicView image = {this.fetchImage()} changeProfPic = {this.changePic} deletePic = {this.deletePicture}/>\r\n                </div>\r\n                );\r\n            }\r\n            else {\r\n                console.log(\"wrong place\");\r\n                return (\r\n                <div>\r\n                    <NewProfilepicView image = {this.fetchImage()} changeProfPic = {this.upLoadImage}></NewProfilepicView>\r\n                </div>\r\n                );\r\n            }\r\n        }\r\n        else {\r\n            return (\r\n                <div>\r\n                    <VisitedProfilepic image={this.visiterImage()}/>\r\n                </div>\r\n            )\r\n        }\r\n    \r\n\r\n    }\r\n\r\n}\r\n\r\nexport default withRouter(ProfilePicture);","import React from \"react\";\r\n\r\nconst LoggedInUserView = ({ userProfile, deleteAccount})=> {  \r\n  \r\n    return(\r\n        <div>\r\n          <form>\r\n          <label>Username:</label><label id='username'>{userProfile.username}</label>\r\n          <button type='button' style={{marginLeft: \"365px\"}} onClick={deleteAccount}>Delete account</button>\r\n          <br></br>\r\n          <label>Followers:</label><label id='followers'>{userProfile.followersAndFollowing.followers}</label>\r\n          <br></br>\r\n          <label>Following:</label><label id='following'>{userProfile.followersAndFollowing.following}</label>\r\n          <br></br>\r\n          <label>Bio:</label><label id='bio'>{userProfile.bio}</label>\r\n          <button onClick={userProfile.editProfile}>Edit</button>\r\n          <br></br>\r\n          </form>\r\n        </div>\r\n    );\r\n}; \r\nexport default LoggedInUserView;","import React from \"react\";\r\n\r\nconst LoggedInUserEditView = ({ userProfile, deleteAccount })=> {  \r\n  \r\n    return(\r\n        <div>\r\n          <form>\r\n          <label>Username:</label><label id='username'>{userProfile.username}</label>\r\n          <button type='button' style={{marginLeft: \"365px\"}} onClick={deleteAccount}>Delete account</button>\r\n          <br></br>\r\n          <label>Followers:</label><label id='followers'>{userProfile.followersAndFollowing.followers}</label>\r\n          <br></br>\r\n          <label>Following:</label><label id='following'>{userProfile.followersAndFollowing.following}</label>\r\n          <br></br>\r\n          <label>Bio:</label><label id='bio'>{userProfile.bio}</label>\r\n          <br></br>\r\n          <input\r\n            id=\"bioTextBox\"\r\n            name=\"Bio\"\r\n            type=\"bio\"\r\n            placeholder=\"New bio\"\r\n          />\r\n          <br></br>\r\n          <button onClick={userProfile.saveChanges}>Save Changes</button>\r\n          <br></br>\r\n          </form>\r\n        </div>\r\n    );\r\n}; \r\nexport default LoggedInUserEditView;","import React, { Component } from 'react';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport helperfunctions from '../helperfunctions.js'\r\nimport Microblogs from '../Microblogs'\r\nimport CheckboxContainer from '../ProfilePage/checkBox.jsx'\r\n\r\nimport ProfilePicture from '../ProfilePicture'\r\nimport LoggedInUserView from \"./UserProfileViews/LoggedInUserView\";\r\nimport LoggedInUserEditView from \"./UserProfileViews/LoggedInUserEditView\"\r\nimport VisitedUserView from \"./UserProfileViews/VisitedUserView\"\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport { resolve } from 'q';\r\nimport ProfilePageView from '../ProfilePage/ProfilePageView.js';\r\n\r\nimport firebase from \"firebase\";\r\n\r\nclass User extends React.Component{\r\n\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n\r\n        this.username = props.user.userData.username;\r\n        this.loggedIn = props.user.userData.loggedIn;\r\n        this.loggedInViewingOwnProfile = props.user.userData.viewingOwnProfile;\r\n\r\n        this.editProfile = this.editProfile.bind(this);\r\n        this.deleteAccount = this.deleteAccount.bind(this);\r\n        this.saveChanges = this.saveChanges.bind(this);\r\n        this.followOrUnfollowUser = this.followOrUnfollowUser.bind(this);\r\n        \r\n        this.renderLoggedInUser = this.renderLoggedInUser.bind(this);\r\n        this.renderVisitedUser = this.renderVisitedUser.bind(this);\r\n\r\n        this.state = {\r\n            loaded: false\r\n        }\r\n        \r\n        this.editMode = false;\r\n    }\r\n\r\n    editProfile(){\r\n        this.editMode = true;\r\n        this.setState({\r\n          editMode : 1\r\n        })\r\n    }\r\n\r\n  deleteAccount() {\r\n    this.loggedIn = false;\r\n    this.props.history.push({\r\n        pathname: \"/DeleteAccount\"\r\n    });\r\n  }\r\n  \r\n    saveChanges(){\r\n    \r\n        var bio_cont = document.getElementById('bioTextBox').value;\r\n        helperfunctions.postCurrentUserBio(bio_cont);\r\n\r\n        this.editMode = false;\r\n        this.setState({\r\n        mustUpdate : 1\r\n        })\r\n    }\r\n\r\n    async followOrUnfollowUser(){\r\n    \r\n        if (document.getElementById('followbutton').textContent ==  \"Follow\") {\r\n            await helperfunctions.followUserIAmViewing(this.username);\r\n            document.getElementById('followbutton').textContent = \"Unfollow\";\r\n            this.setState({ follow : 0});\r\n        } else {\r\n            await helperfunctions.unfollowUserIAmViewing(this.username);\r\n            document.getElementById('followbutton').textContent = \"Unfollow\";\r\n            this.setState({ follow : 1});\r\n            document.getElementById('followbutton').textContent = \"Follow\";\r\n        }\r\n\r\n        this.followersAndFollowing = await helperfunctions.getFollowersAndFollowing(this.username);\r\n        this.userProfile.followersAndFollowing = this.followersAndFollowing;\r\n        this.setState({ mustUpdate : 1})\r\n    }\r\n\r\n    async componentDidMount() {\r\n\r\n        this.userProfile = new Object();\r\n        this.userProfile.saveChanges = this.saveChanges;\r\n        this.userProfile.editProfile = this.editProfile;\r\n        this.userProfile.followUser = this.followOrUnfollowUser;\r\n        await this.downloadUserProfile(this.userProfile);\r\n        this.setState({loaded : true});\r\n\r\n        if(!this.loggedIn){\r\n            document.getElementById('followbutton').disabled = true;\r\n            document.getElementById('logout').disabled = true;\r\n            document.getElementById('profile').disabled = true;\r\n        }\r\n\r\n        //check if I am currently following the user I am viewing and if so, change button text to \"unfollow\"\r\n        if(this.viewingOwnProfile === false)\r\n        {\r\n            await firebase.database().ref().once('value', (snapshot) => {\r\n                var mapUIDToUsername = snapshot.child(\"mapUIDtoUsername\").val();\r\n                var currUserName = mapUIDToUsername[firebase.auth().currentUser.uid];\r\n    \r\n                if ((this.userProfile.followersAndFollowing.followers).includes(currUserName)) {\r\n                    document.getElementById('followbutton').textContent = \"Unfollow\";\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(){\r\n\r\n        await this.downloadUserProfile(this.userProfile);\r\n        \r\n        if(this.state.mustUpdate == 1){\r\n            this.setState({\r\n                mustUpdate : 0\r\n            })\r\n        }\r\n    }\r\n\r\n    async downloadUserProfile(userProfile){\r\n\r\n        userProfile.username = this.username;\r\n\r\n        this.bio = await helperfunctions.getBio(this.username);\r\n        userProfile.bio = this.bio;\r\n\r\n        this.followersAndFollowing = await helperfunctions.getFollowersAndFollowing(this.username);\r\n        userProfile.followersAndFollowing = this.followersAndFollowing;\r\n\r\n        this.microblogs = await helperfunctions.getMicroblogsForUser(this.username);\r\n        userProfile.microblogs = this.microblogs;\r\n\r\n        resolve(\"done\");\r\n\r\n    }\r\n\r\n    render() {\r\n        if(this.state.loaded){\r\n\r\n            if(this.loggedIn){\r\n                if (this.loggedInViewingOwnProfile) {\r\n                    return this.renderLoggedInUser(this.userProfile, this.deleteAccount);\r\n                } else {\r\n\r\n                    return this.renderVisitedUser(this.userProfile);\r\n                }\r\n            }\r\n            else{\r\n                return this.renderVisitedUser(this.userProfile);\r\n            }\r\n\r\n        } else{\r\n            return null;\r\n        }\r\n        \r\n    }\r\n\r\n    renderLoggedInUser(userProfile, deleteAccount){\r\n\r\n        if(this.editMode){\r\n            return(\r\n                <div>\r\n                    <LoggedInUserEditView userProfile={userProfile} deleteAccount={deleteAccount}/>\r\n                    <Microblogs microblogs={userProfile.microblogs} username={userProfile.username} />\r\n                    \r\n                </div>\r\n            );\r\n        }\r\n\r\n        else{\r\n            return (\r\n                <div>\r\n                    <ProfilePicture visiting={false}/>\r\n                    <LoggedInUserView userProfile={userProfile} deleteAccount={deleteAccount}/>\r\n                    <Microblogs microblogs={userProfile.microblogs} username={userProfile.username} />\r\n                    \r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderVisitedUser(userProfile){\r\n\r\n        return(\r\n            <div>\r\n                <ProfilePicture strangername={this.username} visiting={true}/>\r\n                <VisitedUserView userProfile={userProfile}/>\r\n                <Microblogs microblogs={userProfile.microblogs} username={userProfile.username} />\r\n               \r\n            </div>\r\n        );\r\n    }\r\n\r\n    \r\n}\r\n\r\nexport default withRouter(User);\r\n","import React from \"react\";\r\nimport User from \"../User/index\"\r\nimport UserData from \"../DataObjects/UserData\";\r\nconst ProfilePageView = (userData) => {  \r\n  \r\n    return(\r\n        <div>\r\n          <User user={userData}></User>\r\n          <form>\r\n          </form>\r\n        </div>\r\n    );\r\n}; \r\nexport default ProfilePageView;","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport ProfilePageView from \"./ProfilePageView\";\r\nimport UserData from \"../DataObjects/UserData\";\r\nimport TopBar from \"../TopBar\";\r\nimport ProfilePicture from \"../ProfilePicture\"\r\nimport firebase from \"firebase\";\r\nimport { resolve } from 'q';\r\nimport CheckboxContainer from './checkBox.jsx'\r\n\r\nclass ProfilePage extends React.Component {\r\n  \r\n    constructor(props){\r\n      super(props); \r\n\r\n      //this.getUser = this.getUser.bind(this);\r\n      this.localProps = props;\r\n    \r\n      this.state = {\r\n        //checkedItems: new Map(),\r\n        loaded: false\r\n      }\r\n      //this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    \r\n    async componentDidMount() {\r\n      await this.setUsername();\r\n      this.setState({loaded : true});\r\n    }\r\n\r\n    async setUsername(){\r\n\r\n      await firebase.database().ref().once('value', (snapshot) => {\r\n        var UIDtoUsername = snapshot.child('mapUIDtoUsername').val();\r\n\r\n        if (firebase.auth().currentUser == undefined || firebase.auth().currentUser == null) {\r\n\r\n          if(this.localProps.location.pathname != \"/profile\"){\r\n            this.path = this.localProps.location.pathname;\r\n            this.username = this.path.substring(9, this.path.length);\r\n            this.userData = new UserData(this.username, false);\r\n          }\r\n          else{\r\n            this.localProps.history.push({\r\n              pathname: \"/login\"});\r\n              return;\r\n          }\r\n\r\n        } else {\r\n          if(this.localProps.location.pathname != \"/profile\"){\r\n            this.path = this.localProps.location.pathname;\r\n            this.username = this.path.substring(9, this.path.length);\r\n\r\n            if (this.username == UIDtoUsername[firebase.auth().currentUser.uid]) {\r\n              this.userData = new UserData(this.username, true, true);\r\n            } else {\r\n              this.userData = new UserData(this.username, true, false);\r\n            }\r\n          } else {\r\n            this.userData = new UserData(UIDtoUsername[firebase.auth().currentUser.uid], true, true);\r\n          }\r\n        }\r\n\r\n      });\r\n\r\n      resolve(\"done\");\r\n  }\r\n\r\n    //getUser(username){\r\n      //this.userData = new UserData(username, false, false);\r\n    //}\r\n\r\n    // handleChange(e) {\r\n    //   const item = e.target.name;\r\n    //   const isChecked = e.target.checked;\r\n    //   this.setState(prevState => ({ checkedItems: prevState.checkedItems.set(item, isChecked) }));\r\n    // }\r\n\r\n    render(){\r\n      if(this.state.loaded){\r\n        return (\r\n          <div>\r\n            <TopBar/>\r\n\r\n            <ProfilePageView userData={this.userData}/>\r\n            <CheckboxContainer username={this.username}/>\r\n          </div>\r\n        );\r\n\r\n    } else{\r\n        return null;\r\n    }\r\n  }\r\n}\r\nexport default withRouter(ProfilePage);","import React from \"react\";\r\n\r\nconst DeleteAccountAuthenticationView = ({ onSubmit }) => {  \r\n  \r\n  return (\r\n    <div>\r\n        <h1>User verification</h1>\r\n        <form onSubmit={onSubmit}>      \r\n        \r\n        <label>\r\n          Email/Username\r\n          <input\r\n            name=\"email\"\r\n            //type=\"email\"\r\n            placeholder=\"Email/Username\"\r\n          />\r\n        </label>\r\n        <label>\r\n          Password\r\n          <input\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />          \r\n        </label>\r\n        <button type=\"submit\">Delete Account</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteAccountAuthenticationView;","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport app from \"../base\";\r\nimport TopBarLoginSignup from \"../TopBarLoginSignup\";\r\nimport helperfunctions from '../helperfunctions.js'\r\n\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport firebase from \"firebase\";\r\n\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport DeleteAccountAuthenticationView from \"./DeleteAccountAuthenticationView\";\r\n\r\nclass DeleteAcountAuthenticationContainter extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.handleLogIn = this.handleLogIn.bind(this);\r\n    }\r\n  \r\n    handleLogIn = async event => {\r\n      event.preventDefault();\r\n      const { email, password } = event.target.elements;\r\n      try {\r\n        var user_exists = false;\r\n        var currentEmail = firebase.auth().currentUser.email;\r\n        var currentUsername = null;\r\n\r\n        if(email.value == currentEmail) {\r\n            user_exists = true;\r\n            await app\r\n            .database()\r\n            .ref()\r\n            .once(\"value\", snapshot => {\r\n                var user_email_list = snapshot.child(\"mapUsernameToEmail\").val();\r\n                var username;\r\n                for (username in user_email_list) {\r\n                    if (user_email_list[username] == currentEmail) {\r\n                        currentUsername = username;\r\n                        break;\r\n                    }\r\n                }\r\n            }); \r\n        }\r\n        else {\r\n            await app\r\n            .database()\r\n            .ref()\r\n            .once(\"value\", snapshot => {\r\n                var user_email_list = snapshot.child(\"mapUsernameToEmail\").val();\r\n                \r\n                console.log(user_email_list[email.value]);\r\n                if (user_email_list[email.value] != undefined) {\r\n                    if (user_email_list[email.value] == currentEmail) {\r\n                        currentUsername = email.value;\r\n                        user_exists = true;\r\n                    }\r\n                }\r\n            }); \r\n        }\r\n  \r\n        if (!user_exists) {\r\n          toast(\"The Email/Username or Password is incorrect\");\r\n          toast(\"The Email/Username or Password is incorrect\", { containerId: \"B\" });\r\n          return;\r\n        }\r\n  \r\n        var valid_password = true;\r\n        this.user = await app\r\n          .auth()\r\n          .signInWithEmailAndPassword(currentEmail, password.value).catch(function() {\r\n            valid_password = false;\r\n          });\r\n\r\n        if (!valid_password) {\r\n          toast(\"The Email/Username or Password is incorrect\");\r\n          toast(\"The Email/Username or Password is incorrect\", { containerId: \"B\" });\r\n          return;\r\n        }\r\n        \r\n        console.log(currentUsername);\r\n        helperfunctions.deleteUserData(currentUsername);\r\n        toast(\"User account deleted\");\r\n        this.loggedIn = false;\r\n\r\n        this.props.history.push({\r\n          pathname: \"/login\"\r\n        });\r\n      } catch (error) {\r\n        toast(error);\r\n      }\r\n    };\r\n    render() {\r\n      return (\r\n        <div>\r\n          <ToastContainer\r\n            enableMultiContainer\r\n            containerId={\"B\"}\r\n            position={toast.POSITION.TOP_RIGHT}\r\n          />\r\n\r\n          <TopBarLoginSignup />\r\n          <DeleteAccountAuthenticationView onSubmit={this.handleLogIn} />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default withRouter(DeleteAcountAuthenticationContainter);","import { Component } from \"react\";\r\nimport React from \"react\";\r\n\r\nclass Messages extends Component {\r\n  render() {\r\n    const { messages } = this.props;\r\n    return (\r\n      <ul className=\"Messages-list\">\r\n        {messages.map(m => this.renderMessage(m))}\r\n      </ul>\r\n    );\r\n  }\r\n\r\n  renderMessage(message) {\r\n    const { member, text } = message;\r\n    const { currentMember } = this.props;\r\n    const messageFromMe = member.id === currentMember.id;\r\n    const className = messageFromMe\r\n      ? \"Messages-message currentMember\"\r\n      : \"Messages-message\";\r\n    return (\r\n      <li className={className}>\r\n        <span\r\n          className=\"avatar\"\r\n          style={{ backgroundColor: member.clientData.color }}\r\n        />\r\n        <div className=\"Message-content\">\r\n          <div className=\"username\">{member.clientData.username}</div>\r\n          <div className=\"text\">{text}</div>\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Messages;\r\n","import { Component } from \"react\";\r\nimport React from \"react\";\r\n\r\nclass Input extends Component {\r\n  state = {\r\n    text: \"\"\r\n  };\r\n\r\n  onChange(e) {\r\n    this.setState({ text: e.target.value });\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    this.setState({ text: \"\" });\r\n    this.props.onSendMessage(this.state.text);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Input\">\r\n        <form onSubmit={e => this.onSubmit(e)}>\r\n          <input\r\n            onChange={e => this.onChange(e)}\r\n            value={this.state.text}\r\n            type=\"text\"\r\n            placeholder=\"Enter your message and press ENTER\"\r\n            autofocus=\"true\"\r\n          />\r\n          <button>Send</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Input;\r\n","import React, { Component } from \"react\";\r\nimport \"./chat.css\";\r\nimport Messages from \"./Messages\";\r\nimport Input from \"./Input\";\r\nimport { resolve } from \"path\";\r\nimport firebase from \"firebase\";\r\nimport { withRouter } from \"react-router\";\r\nimport helperfunctions from \"../helperfunctions\";\r\n\r\n// Current Issues ----\r\n// Refresh does not work well\r\n// the data is temporary, need to change to user data\r\n// need to fix the this.userData and how to understand it.\r\n\r\nfunction randomColor() {\r\n  return \"#\" + Math.floor(Math.random() * 0xffffff).toString(16);\r\n}\r\n\r\nclass Chat extends Component {\r\n  state = {\r\n    messages: [],\r\n    member: {\r\n      username: \"ABCD\",\r\n      color: randomColor()\r\n    }\r\n  };\r\n\r\n  async componentDidMount() {\r\n    //verify user is logged in before displaying page\r\n    this.updateUserName();\r\n  }\r\n\r\n  async updateUserName() {\r\n    firebase.auth().onAuthStateChanged(async user => {\r\n      if (!user) {\r\n        this.props.history.push({\r\n          pathname: \"/login\"\r\n        });\r\n        return null;\r\n      } else {\r\n        var loggedIn = true;\r\n        var user = firebase.auth().currentUser;\r\n        this.userData = await helperfunctions.getUserdataOfUser(\r\n          user.uid,\r\n          loggedIn\r\n        );\r\n        this.state.member.username = this.userData.username;\r\n      }\r\n    });\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.updateUserName();\r\n    this.drone = new window.Scaledrone(\"QeA5YRICL8SUcMYT\", {\r\n      data: this.state.member\r\n    });\r\n    this.drone.on(\"open\", error => {\r\n      if (error) {\r\n        return console.error(error);\r\n      }\r\n      const member = { ...this.state.member };\r\n      member.id = this.drone.clientId;\r\n      this.setState({ member });\r\n    });\r\n    const room = this.drone.subscribe(\"observable-room\");\r\n    room.on(\"data\", (data, member) => {\r\n      const messages = this.state.messages;\r\n      messages.push({ member, text: data });\r\n      this.setState({ messages });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"App-header\">\r\n          <h1>Twisster Chat</h1>\r\n        </div>\r\n        <Messages\r\n          messages={this.state.messages}\r\n          currentMember={this.state.member}\r\n        />\r\n        <Input onSendMessage={this.onSendMessage} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onSendMessage = message => {\r\n    this.drone.publish({\r\n      room: \"observable-room\",\r\n      message\r\n    });\r\n  };\r\n}\r\n\r\nexport default withRouter(Chat);\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\nimport Home from \"./Home\";\r\nimport Login from \"./LogIn\";\r\nimport SignUp from \"./SignUp\";\r\nimport LandingPage from \"./LandingPage/index\";\r\nimport ProfilePage from \"./ProfilePage\";\r\nimport DeleteAccountAuthentication from \"./DeleteAccountAuthentication\"\r\nimport Chat from \"./Chat\";\r\nimport { toast } from \"react-toastify\";\r\n\r\ntoast.configure();\r\n\r\nconst App = () => {\r\n  const notify = () => toast(\"Wow so easy !\");\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route exact path=\"/signup\" component={SignUp} />\r\n        <Route exact path=\"/landing\" component={LandingPage} />\r\n        <Route path=\"/profile\" component={ProfilePage} />\r\n        <Route path=\"/DeleteAccount\" component={DeleteAccountAuthentication} />\r\n        <Route path=\"/chat\" component={Chat} />\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport { toast } from 'react-toastify';\r\nimport AlertTemplate from 'react-alert-template-basic'\r\nimport { transitions, positions, Provider as AlertProvider } from 'react-alert'\r\n\r\n\r\n\r\n//ReactDOM.render(<App />, document.getElementById('root'));\r\nReactDOM.render((\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  ), document.getElementById('root'));\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/twisster_logo.d26fb7f2.png\";"],"sourceRoot":""}