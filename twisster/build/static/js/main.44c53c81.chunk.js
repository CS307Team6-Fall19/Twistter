(window.webpackJsonpq=window.webpackJsonpq||[]).push([[0],{115:function(e,t,n){},124:function(e,t,n){e.exports=n(297)},129:function(e,t,n){},131:function(e,t,n){},145:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},286:function(e,t,n){},287:function(e,t){e.exports="data:image/png;base64,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"},288:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},294:function(e,t,n){},297:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(26),c=n.n(o),i=(n(129),n(53)),l=n(14),s=n(3),u=n.n(s),d=n(5),h=n(8),m=n(7),p=n(10),f=n(9),b=n(11),g=(n(131),function(){return r.a.createElement("div",{className:"inner-body"},r.a.createElement("label",{className:"top-bar-twisster"},"Twistter"))}),v=n(1),w=n.n(v),E=function(e){function t(e){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"top-bar"},r.a.createElement(g,null))}}]),t}(r.a.Component),O=Object(l.e)(E),k=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).goLogIn=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push({pathname:"/login"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.goSignUp=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push({pathname:"/signup"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement("h1",null,"Home"),r.a.createElement("form",null,r.a.createElement("button",{onClick:this.goLogIn},"Login"),r.a.createElement("button",{onClick:this.goSignUp},"Signup")))}}]),t}(a.Component),j=Object(l.e)(k),U=n(13),y=w.a.initializeApp({apiKey:"AIzaSyBz9SOr8DjfgATYDORi2l185jmlbzKLsKk",authDomain:"twistter.firebaseapp.com",databaseURL:"https://twistter.firebaseio.com",projectId:"twistter",storageBucket:"gs://twistter.appspot.com/",messagingSenderId:"71618548828"}),x=(n(145),n(40)),I=n(52),A=n.n(I),D=function(e){return r.a.createElement("img",{className:"logo-twisster",src:A.a},e.children)},C=function(e){return r.a.createElement("label",{className:"name-twisster"},"twisster")},T=function(e){return r.a.createElement("div",{className:"login-prompt"},e.children)},P=function(e){return r.a.createElement("input",{name:"email",className:"login-textbox",placeholder:"Email/Username",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Email/Username"}},e.children)},B=function(e){return r.a.createElement("input",{name:"password",className:"password-textbox",type:"password",placeholder:"Password",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Password"},focus:!0},e.children)},L=function(e){var t=e.onSubmit,n=e.onClick;return r.a.createElement("div",{className:"main-body"},r.a.createElement("div",{className:"body"},r.a.createElement(T,null,r.a.createElement(D,null),r.a.createElement(C,null),r.a.createElement("form",{onSubmit:t},r.a.createElement(P,null),r.a.createElement(B,null),r.a.createElement(x.a,{className:"login-button",variant:"outline-dark",type:"submit"},r.a.createElement("span",null,"Login "))),r.a.createElement(x.a,{className:"signup-button",variant:"outline-dark",type:"submit",onClick:n},r.a.createElement("span",null,"Sign Up ")))))},S=n(15),M=(n(30),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).handleLogIn=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r,o,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.elements,r=a.email,o=a.password,e.prev=2,c=!0,e.next=6,y.database().ref().once("value",(function(e){var t=e.child("mapUsernameToEmail").val();if(1!=r.value.includes("@"))void 0==t[r.value]&&(c=!1),i=t[r.value];else for(var n in i=r.value,c=!1,t)if(t[n]==r.value){c=!0;break}}));case 6:if(c){e.next=10;break}return Object(S.b)("User Account does not exist"),Object(S.b)("User Account does not exist",{containerId:"B"}),e.abrupt("return");case 10:return e.next=12,y.auth().signInWithEmailAndPassword(i,o.value);case 12:if(n.user=e.sent,n.user.user.emailVerified){e.next=17;break}return Object(S.b)("email is not verified! resending verification link..."),w.a.auth().currentUser.sendEmailVerification({url:"http://localhost:3000/login",handleCodeInApp:!0}).then((function(){console.log("sent verification email")})).catch((function(e){Object(S.b)(e)})),e.abrupt("return");case 17:n.props.history.push({pathname:"/landing"}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),Object(S.b)(e.t0);case 23:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}(),n.goSignUp=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push({pathname:"/signup"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleLogIn=n.handleLogIn.bind(Object(U.a)(n)),n.goSignUp=n.goSignUp.bind(Object(U.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,{color:"danger",enableMultiContainer:!0,containerId:"B",position:S.b.POSITION.TOP_RIGHT}),r.a.createElement(L,{onSubmit:this.handleLogIn,onClick:this.goSignUp}))}}]),t}(a.Component)),N=Object(l.e)(M),F=(n(148),function(e){return r.a.createElement("img",{className:"logo-twisster",src:A.a},e.children)}),Q=function(e){return r.a.createElement("label",{className:"name-twisster"},"twisster")},R=function(e){return r.a.createElement("input",{name:"email",className:"s_email-textbox",placeholder:"Email",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Email"}},e.children)},H=function(e){return r.a.createElement("div",null,r.a.createElement("label",{className:"return-login"},"Already a member?",r.a.createElement("button",{type:"submit",className:"return-login_b",onClick:e.onClick},"Login")))},z=function(e){return r.a.createElement("input",{name:"username",className:"s_username-textbox",placeholder:"Username",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Username"}},e.children)},q=function(e){return r.a.createElement("input",{name:"password",type:"password",className:"s_password-textbox",placeholder:"Password",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Password"}},e.children)},G=function(e){return r.a.createElement("div",{className:"s_login-prompt"},e.children)},K=function(e){var t=e.onSubmit,n=e.onClick;return r.a.createElement(G,null,r.a.createElement("form",{onSubmit:t},r.a.createElement(F,null),r.a.createElement(Q,null),r.a.createElement(R,null),r.a.createElement(z,null),r.a.createElement(q,null),r.a.createElement(x.a,{className:"s_signup-button",variant:"outline-dark",type:"submit"},r.a.createElement("span",null,"Sign Up "))),r.a.createElement(H,{onClick:n}))},V=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).handleSignUp=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r,o,c,i,l,s,d,h,m,p,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.elements,r=a.email,o=a.username,c=a.password,e.prev=2,i=!1,e.next=6,w.a.database().ref().once("value",(function(e){var t=e.child("mapUsernameToEmail").val();void 0!=t&&void 0!=t[o.value]&&(Object(S.b)("Username already exists"),i=!0)}));case 6:if(1!=i){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,w.a.auth().createUserWithEmailAndPassword(r.value,c.value);case 10:e.sent,(l={})[o.value]=r.value,w.a.database().ref().child("mapUsernameToEmail").update(l),(s={})[o.value]=w.a.auth().currentUser.uid,w.a.database().ref().child("mapUsernameToUID").update(s),(d={})[w.a.auth().currentUser.uid]=o.value,w.a.database().ref().child("mapUIDtoUsername").update(d),h={url:"http://localhost:3000/login",handleCodeInApp:!0},w.a.auth().currentUser.sendEmailVerification(h).then((function(){console.log("sent verification email")})).catch((function(e){Object(S.b)(e.message)})),m=new Date,p=m.getTime(),f=w.a.database(),f.ref().child("users").child(w.a.auth().currentUser.uid).set({email:r.value,signupTimestamp:p,picture:"default.jpg"}),w.a.auth().signOut(),n.props.history.push("/login"),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(2),Object(S.b)(e.t0.message);case 34:case"end":return e.stop()}}),e,null,[[2,31]])})));return function(t){return e.apply(this,arguments)}}(),n.goLogin=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.history.push({pathname:"/login"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.goLogin=n.goLogin.bind(Object(U.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-body"},r.a.createElement(K,{onSubmit:this.handleSignUp,onClick:this.goLogin}))}}]),t}(a.Component),J=Object(l.e)(V),X=(n(149),function(e){function t(e){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"tweet-body"},this.props.children)}}]),t}(r.a.Component)),W=(n(150),function(e){return r.a.createElement(Y,null,r.a.createElement("div",{className:"inner-body"},r.a.createElement(Z,{image:e.image}),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"inner-body"},r.a.createElement($,{name:e.name,id:"name"}),r.a.createElement(_,{handle:e.handle})),r.a.createElement("div",null,r.a.createElement("textarea",{id:"content",className:"new-tweet",placeholder:"Hello"}),r.a.createElement("textarea",{disabled:!0,id:"showTopics",className:"new-topic",placeholder:"Topics Listed Here"}),r.a.createElement("textarea",{id:"addTopics",className:"new-topic",placeholder:"Add Topics Here"}),r.a.createElement("button",{type:"submit",onClick:e.submitMicroblog},"Post"),r.a.createElement("button",{type:"submit",onClick:e.addTopic},"Add New Topics")))))}),Y=function(e){return r.a.createElement("div",{className:"new-tweet-body"},e.children)},Z=function(e){return r.a.createElement("img",{id:"img3",alt:"Logo",height:"50",width:"100"})},_=function(e){return r.a.createElement("div",{className:"handle"},e.handle)},$=function(e){return r.a.createElement("div",{className:"name"},e.name)},ee=n(19),te=function(){function e(t,n,a){Object(h.a)(this,e),this.username=t,this.viewingOwnProfile=a,this.loggedIn=n}return Object(m.a)(e,[{key:"getUsername",value:function(){return this.username}},{key:"getUid",value:function(){return this.uid}}]),e}(),ne=n(39),ae={retrieveUserUid:function(e){console.log("Entered retrieveUserUid");var t=w.a.database.ref().child("mapUsernameToUid")[e];return console.log("Exited retrieveUserUid"),t},retrieveUserEmail:function(e){console.log("Entered retrieveUserEmail");var t=w.a.database().ref().child("mapUsernameToEmail")[e];return console.log("Exited retrieveUserEmail"),t},retrieveUsername:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Entered retrieveUsername"),e.next=3,w.a.database().ref().once("value",(function(e){var a=e.child("mapUIDtoUsername").val();n=a[t]}));case 3:return console.log("Exited retrieveUsername"),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addMicroBlogToCurrentUser:function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,r,o,c,i,l,s,d,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",console.log("Entered addMicroBlogToCurrentUser"),r=w.a.auth().currentUser.uid,e.next=5,w.a.database().ref().once("value",(function(e){var t=e.child("mapUIDtoUsername").val();a=t[r],console.log("USERNAME:",a)}));case 5:for(o=new Date,c=o.getTime(),t.length>250&&console.log("ERROR: content of microblog cannot exceed 250 characters --\x3e will not store in firebase"),i=[],l=0;l<n.length;l++)i.push({topics:n[l],timestamp:c});return e.next=12,w.a.database().ref().once("value",(function(e){var t=e.child("users").child(w.a.auth().currentUser.uid).child("writtenTopics").val();if(console.log("TYPE:",typeof t),null==t||0===t.length)w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("writtenTopics").set(i);else{for(var n=0;n<i.length;n++){for(var a=0;a<t.length&&t[a].topics!=i[n].topics;a++);a==t.length&&t.push(i[n])}w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("writtenTopics").set(t)}}));case 12:for(s=[],l=0;l<n.length;l++)s.push(n[l]);return 0,(d=[]).push("hello"),h={userLikes:d,id:a+c,user:a,content:t,topics:s,timestamp:c,numLikes:0},e.next=20,w.a.database().ref().once("value",(function(e){var t=e.child("users").child(w.a.auth().currentUser.uid).child("Microblogs").val();null==t||0===t.length?w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("Microblogs").set({0:h}):(t.push(h),w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("Microblogs").set(t))}));case 20:return Object(ee.resolve)("done"),e.abrupt("return");case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),likeMicroblog:function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Entered likeMicroblog"),e.next=3,w.a.database().ref().once("value",(function(e){var a=e.child("mapUsernameToUID").val()[t.name];e.child("users").child(a).child("Microblogs").forEach((function(e){var r=0,o=[];e.val().id===t.id&&(void 0===e.val().userLikes?o.push(n):!1===e.val().userLikes.includes(n)?0===e.val().numLikes||e.val().userLikes.includes("hello")?(o=e.val().userLikes)[0]=n:(o=e.val().userLikes).push(n):!0===e.val().userLikes.includes(n)&&(o=e.val().userLikes),r=o.length,w.a.database().ref().child("users").child(a).child("Microblogs").child(e.key).update({userLikes:o}),w.a.database().ref().child("users").child(a).child("Microblogs").child(e.key).update({numLikes:r}))}))}));case 3:Object(ee.resolve)("done"),console.log("Exited likeMicroblog");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),unlikeMicroblog:function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Entered unlikeMicroblog"),e.next=3,w.a.database().ref().once("value",(function(e){var a=e.child("mapUsernameToUID").val()[t.name];e.child("users").child(a).child("Microblogs").forEach((function(e){var r=0,o=[];if(e.val().id===t.id){if(void 0===e.val().userLikes)r=0;else if(!0===e.val().userLikes.includes(n)){var c=(o=e.val().userLikes).indexOf(n);o.splice(c,1)}r=o.length,w.a.database().ref().child("users").child(a).child("Microblogs").child(e.key).update({userLikes:o}),w.a.database().ref().child("users").child(a).child("Microblogs").child(e.key).update({numLikes:r})}}))}));case 3:Object(ee.resolve)("done"),console.log("Exited unlikeMicroblog");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getBio:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.database().ref().once("value",(function(e){var a=e.child("mapUsernameToUID").val()[t],r=e.child("users").child(a).child("bio").val();if(void 0!=r)return n=r,r}));case 2:return e.sent,Object(ee.resolve)("done"),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFollowersAndFollowing:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.database().ref().once("value",(function(e){var a=e.child("mapUsernameToUID").val()[t],r=[];e.child("users").child(a).child("following").forEach((function(e){r.push(e.key)}));var o=e.child("users").child(a).child("followers").val(),c="";if(null==o)c="";else{for(var i=0;i<o.length-1;i++)c+=o[i]+", ";c+=o[o.length-1]}var l="";if(null==r||void 0===r||0===r.length)l="";else{for(i=0;i<r.length-1;i++)l+=r[i]+", ";l+=r[r.length-1]}n={followers:c,following:l}}));case 2:return Object(ee.resolve)("done"),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),followUserIAmViewing:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.database().ref().once("value",(function(e){var n=w.a.auth().currentUser.uid,a=e.child("mapUIDtoUsername").val()[w.a.auth().currentUser.uid],r=t,o=e.child("mapUsernameToUID").val()[r],c=(new Date).getTime();w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("followingTimestamp").child(r).set(c);var i=e.child("users").child(n).child("following").val(),l=e.child("users").child(o).child("followers").val();if(o!==n){var s;if(null==i||0==i.length)(s=[]).push("None"),!1===e.child("users").child(w.a.auth().currentUser.uid).child("following").hasChild(r)&&w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("following").child(r).set(s);else(s=[]).push("None"),!1===e.child("users").child(w.a.auth().currentUser.uid).child("following").hasChild(r)&&w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("following").child(r).set(s);if(null==l||0===l.length){var u=[];u.push(a),w.a.database().ref().child("users").child(o).child("followers").set(u)}else!1===l.includes(a)&&(l.push(a),w.a.database().ref().child("users").child(o).child("followers").set(l))}}));case 2:Object(ee.resolve)("done");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),unfollowUserIAmViewing:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.database().ref().once("value",(function(e){var n=e.child("mapUIDtoUsername").val()[w.a.auth().currentUser.uid],a=t,r=e.child("mapUsernameToUID").val()[a],o=e.child("users").child(r).child("followers").val();if(null!=w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("following").child(a)&&w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("following").child(a).remove(),o.includes(n)){for(var c=[],i=0;i<o.length;i++)o[i]!==n&&c.push(o[i]);w.a.database().ref().child("users").child(r).child("followers").set(c)}}));case 2:Object(ee.resolve)("done");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addAndRemoveTopicsFromFollowedUser:function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.database().ref().once("value",(function(e){var r=w.a.auth().currentUser.uid,o=(e.child("mapUIDtoUsername").val()[w.a.auth().currentUser.uid],t);e.child("mapUsernameToUID").val()[o];if(!1===e.child("users").child(r).child("following").hasChild(t));else{for(var c=[],i=0;i<n.length;i++)c.push(n[i]);for(i=0;i<a.length;i++)if(c.includes(a[i])){var l=c.indexOf(a[i]);l>-1&&c.splice(l,1)}w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("following").child(o).set(c)}}));case 2:Object(ee.resolve)("done");case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),getFollowedAndUnfollowedTopics:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.database().ref().once("value",(function(e){var a=w.a.auth().currentUser.uid,r=(e.child("mapUIDtoUsername").val()[w.a.auth().currentUser.uid],t),o=e.child("mapUsernameToUID").val()[r],c=e.child("users").child(o).child("writtenTopics").val(),i=[];if(null!=c&&void 0!==c)for(var l=0;l<c.length;l++)void 0!==c[l]&&i.push(c[l].topics);console.log("WRITTEN TOPICS",i);var s=e.child("users").child(a).child("following").child(r).val(),u=[];if(null!=s&&0!==s.length)for(var d=0;d<s.length;d++)"None"!==s[d]&&u.push(s[d]);var h=[];if(null!=i&&0!==i.length&&null!=u&&0!==u.length)for(var m=0;m<i.length;m++)!1===u.includes(i[m])&&void 0!==i[m]&&h.push(i[m]);else{for(m=0;m<i.length;m++)h.push(i[m]);u=[]}console.log("FOLLOWED TOPICS",u),console.log("UNFOLLOWED TOPICS",h),n={followedTopicsList:u,unfollowedTopics:h}}));case 2:return Object(ee.resolve)("done"),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postCurrentUserBio:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("bio").set(t);case 2:Object(ee.resolve)("done");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteUserData:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.a.database().ref().child("mapUIDtoUsername").child(w.a.auth().currentUser.uid).remove(),w.a.database().ref().child("mapUsernameToEmail").child(t).remove(),w.a.database().ref().child("mapUsernameToUID").child(t).remove(),e.next=5,w.a.database().ref().once("value",(function(e){var n=e.child("users").child(w.a.auth().currentUser.uid).child("followers").val(),a=e.child("users").child(w.a.auth().currentUser.uid).child("following").val();for(var r in n){console.log(n[r]);var o=e.child("mapUsernameToUID").child(n[r]).val();console.log(o),w.a.database().ref().child("users").child(o).child("following").child(t).remove()}for(var r in a){var c=e.child("mapUsernameToUID").child(r).val();console.log(c);var i=e.child("users").child(c).child("followers").val();for(var l in console.log(i),i)if(i[l]===t){console.log(l),w.a.database().ref().child("users").child(c).child("followers").child(l).remove();break}}}));case 5:w.a.auth().currentUser.delete(),w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).remove();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMicroblogsForUserTimeline:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,w.a.database().ref().once("value",(function(e){var a=e.child("mapUsernameToUID").val(),r=a[t];e.child("users").child(r).child("following").forEach((function(t){var o=t.key,c=t.val(),i=a[o],l=e.child("users").child(i).child("Microblogs").val(),s=e.child("users").child(r).child("followingTimestamp").val()[o],u=e.child("users").child(i).child("writtenTopics").val();if(void 0!=l||null!=l)for(var d=0;d<l.length;d++){var h=l[d],m=h.topics;if(void 0!=m||null!=m){for(var p=!1,f=0;f<m.length;f++)for(var b=0;b<u.length;b++)u[b].topics==m[f]&&u[b].timestamp==l[d].timestamp&&s<u[b].timestamp&&(l[d].topics[f]="/h"+l[d].topics[f],p=!0);if(p){n.push(h);continue}for(var g=0;g<m.length;g++)if(c.includes(m[g])){n.push(h);break}}}}))}));case 3:return Object(ee.resolve)("done"),n.sort((function(e,t){return e.timestamp>t.timestamp?-1:1})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMicroblogsForCurrentUser:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.a.database().ref().once("value",(function(e){var a=e.child("mapUsernameToUID").val()[t];n=e.child("users").child(a).child("Microblogs").val()})),null!=n&&0!==n.length&&n.sort((function(e,t){return e.timestamp>t.timestamp?-1:1})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMicroblogsForUser:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.database().ref().once("value",(function(e){var a=e.child("mapUsernameToUID").val()[t];n=e.child("users").child(a).child("Microblogs").val()}));case 2:return e.sent,Object(ee.resolve)("done"),null!=n&&0!==n.length&&n.sort((function(e,t){return e.timestamp>t.timestamp?-1:1})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserdataOfLoggedInUser:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0,w.a.auth().onAuthStateChanged(function(){var e=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return e.next=3,ae.getUserdataOfUser(n.uid,!0);case 3:return t=e.sent,Object(ee.resolve)("done"),e.abrupt("return",t);case 8:console.log("null");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getUserdataOfUser:function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.database().ref().once("value",(function(e){var r=e.child("mapUIDtoUsername").val()[t];a=new te(r,n,!0)}));case 2:return Object(ee.resolve)("done"),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},re=ae,oe=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).microblogData=new Object,n.microblogPosted=e.microblogPosted,n.microblogData.name=e.username,n.microblogData.handle=e.username,n.microblogData.image="props.image",n.submitMicroblog=n.submitMicroblog.bind(Object(U.a)(n)),n.addTopic=n.addTopic.bind(Object(U.a)(n)),n.topics=[],n.numTopics=0,n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"addTopic",value:function(e){""!=document.getElementById("addTopics").value&&","!=document.getElementById("addTopics").value&&(this.topics.push(document.getElementById("addTopics").value),""==document.getElementById("showTopics").value?document.getElementById("showTopics").value=document.getElementById("addTopics").value:document.getElementById("showTopics").value=document.getElementById("showTopics").value+", "+document.getElementById("addTopics").value,document.getElementById("addTopics").value="")}},{key:"submitMicroblog",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById("content").value,console.log(n),!(n.length>250||n.length<=0)){e.next=6;break}Object(S.b)("Cannot post microblog. Make sure the content is 250 characters or less"),e.next=10;break;case 6:return e.next=8,re.addMicroBlogToCurrentUser(n,this.topics);case 8:this.microblogPosted(),this.topics=[];case 10:document.getElementById("content").value="",document.getElementById("showTopics").value="",document.getElementById("addTopics").value="";case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e="".concat(this.microblogData.name),t="@".concat(this.microblogData.name),n=this.microblogData.image;return r.a.createElement(W,{name:e,handle:t,image:n,submitMicroblog:this.submitMicroblog,addTopic:this.addTopic})}}]),t}(r.a.Component),ce=(n(286),n(287),function(e){var t=e.goLogout,n=e.goToProfile,a=e.goToChat,o=e.goToLanding;return r.a.createElement("div",{className:"inner-body"},r.a.createElement("label",{className:"top-bar-twisster"},"Twistter"),r.a.createElement("button",{className:"top-bar-logout",id:"logout",onClick:t},"Logout"),r.a.createElement("button",{className:"top-bar-profile",id:"profile",onClick:n},"Profile"),r.a.createElement("button",{className:"top-bar-chat",id:"chat",onClick:a},"Chat"),r.a.createElement("button",{className:"top_bar_home",id:"Home",onClick:o},"Home"))}),ie=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).goLogout=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.a.auth().signOut().then((function(){console.log("Signout succesful")})).catch((function(e){console.log("Error")})),n.props.history.push({pathname:"/login"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.userData=e.userData,n.goLogout=n.goLogout.bind(Object(U.a)(n)),n.goToProfile=n.goToProfile.bind(Object(U.a)(n)),n.goToChat=n.goToChat.bind(Object(U.a)(n)),n.goToLanding=n.goToLanding.bind(Object(U.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"goToProfile",value:function(){this.props.history.push({pathname:"/profile",state:{userData:this.userData}})}},{key:"goToChat",value:function(){this.props.history.push({pathname:"/chat",state:{userData:this.userData}})}},{key:"goToLanding",value:function(){this.props.history.push({pathname:"/landing",state:{userData:this.userData}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"top-bar"},r.a.createElement(ce,{goLogout:this.goLogout,goToProfile:this.goToProfile,goToChat:this.goToChat,goToLanding:this.goToLanding}))}}]),t}(r.a.Component),le=Object(l.e)(ie),se=(n(288),function(e){e.image;var t=e.theid;return console.log(t),r.a.createElement("img",{id:t,alt:"Logo",className:"picture"})}),ue=function(e){return r.a.createElement("div",{className:"handle"},e.handle)},de=function(e){return r.a.createElement("div",{className:"name"},e.name)},he=function(e){return r.a.createElement("div",{className:"tweet"},e.tweet)},me=function(e){return r.a.createElement("div",{className:"topics"},e.topics)},pe=function(e){return r.a.createElement(X,null,r.a.createElement("div",{className:"inner-body"},r.a.createElement(se,{image:e.image,theid:e.unitid}),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"inner-body"},r.a.createElement(de,{name:e.name}),r.a.createElement(ue,{handle:e.handle})),r.a.createElement(he,{tweet:e.tweet}),r.a.createElement("div",{class:"likes"},r.a.createElement("button",{class:"like-button",onClick:e.likeButtonClicked},e.likeButtonText),r.a.createElement("label",{class:"num-likes"},e.numLikes)),r.a.createElement(me,{topics:e.topics}))))},fe=(n(115),function(e){return r.a.createElement("div",{className:"topic"},e.text)}),be=function(e){return r.a.createElement("div",{className:"topic-highlighted"},e.text)},ge=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).topic=new Object,n.topic.text=e.data,n.topic.highlight=e.highlight,n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e="".concat(this.topic.text);return this.topic.highlight?r.a.createElement(be,{text:e}):r.a.createElement(fe,{text:e})}}]),t}(r.a.Component),ve=(n(289),function(e){function t(e){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.children)}}]),t}(r.a.Component)),we=(n(290),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).createTopics=function(e){for(var t=[],a=0;a<e.length;a++){n.num++;var o=!1;e[a].length>2&&"/h"==e[a].substr(0,2)&&(e[a]=e[a].substr(2,e[a].length-2),o=!0),t.push(r.a.createElement(ge,{key:a,data:e[a],highlight:o}))}return r.a.createElement("div",null,t)},n.topics=e.topics,n.num=0,n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return null!=this.props.topics?r.a.createElement("div",null,r.a.createElement(ve,null,this.createTopics(this.props.topics))):null}}]),t}(r.a.Component)),Ee=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).microblogData=new Object,void 0==t.counter&&(t.counter=0),n.counter=t.counter,n.blogid="blogid"+n.counter,t.counter++,n.microblogData.name=e.username,n.microblogData.handle=e.username,n.microblogData.tweet=e.data.content,n.microblogData.image="props.image",n.microblogData.id=e.id,n.fetchImage=n.fetchImage.bind(Object(U.a)(n)),n.likeButtonClicked=n.likeButtonClicked.bind(Object(U.a)(n)),n.microblogData.topics=e.data.topics,n.microblogData.numLikes=e.numLikes,n.state={like:e.liked},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"likeButtonClicked",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.retrieveUsername(w.a.auth().currentUser.uid);case 2:if(t=e.sent,!this.state.like){e.next=10;break}return this.microblogData.numLikes--,e.next=7,re.unlikeMicroblog(this.microblogData,t);case 7:this.setState({like:!1}),e.next=14;break;case 10:return this.microblogData.numLikes++,e.next=13,re.likeMicroblog(this.microblogData,t);case 13:this.setState({like:!0});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchImage",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,o=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetchImage running"),e.next=3,w.a.database().ref().once("value",(function(e){console.log(o.microblogData.name),a=e.child("mapUsernameToUID").child(o.microblogData.name).val(),t=e.child("users").child(a).child("picture").val(),n=e.child("users").child(w.a.auth().currentUser.uid).child("picture").val(),console.log("was here hello world")}));case 3:return console.log(t),console.log(n),r=this.blogid,e.next=9,w.a.storage().ref().child(t).getDownloadURL().then((function(e){var t=e;console.log(r),document.querySelectorAll("img").forEach((function(e){e.id==r&&(e.src=t)}))})).catch((function(e){switch(e.code){case"storage/object-not-found":console.log("object not found");break;case"storage/unauthorized":console.log("unauthorized");break;case"storage/unknown":console.log("unknown")}}));case 9:return e.next=11,w.a.storage().ref().child(n).getDownloadURL().then((function(e){var t=e;document.querySelectorAll("img").forEach((function(e){"img3"==e.id&&(e.src=t)}))})).catch((function(e){switch(e.code){case"storage/object-not-found":console.log("object not found");break;case"storage/unauthorized":console.log("unauthorized");break;case"storage/unknown":console.log("unknown")}}));case 11:e.next=14;break;case 13:return e.abrupt("return",w.a.storage().ref(t));case 14:console.log("ends now");case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchImage()}},{key:"render",value:function(){var e=this.state.like?"Unlike":"Like",t="".concat(this.microblogData.name),n="@".concat(this.microblogData.name),a=this.microblogData.tweet,o=this.microblogData.topics,c=this.microblogData.numLikes,i=this.likeButtonClicked;return r.a.createElement("div",null,r.a.createElement(X,null,r.a.createElement(pe,{key:this.microblogData.key,name:t,handle:n,image:ne.nullLiteral,unitid:this.blogid,tweet:a,likeButtonClicked:i,likeButtonText:e,numLikes:c}),r.a.createElement(we,{topics:o})))}}]),t}(r.a.Component),Oe=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).createMicroblogs=function(e,t){for(var n=[],a=0;a<e.length;a++){var o=!1;void 0!==e[a].userLikes&&e[a].userLikes.includes(t)&&(o=!0),n.push(r.a.createElement(Ee,{key:a,data:e[a],username:e[a].user,id:e[a].id,liked:o,numLikes:e[a].numLikes}))}return r.a.createElement("div",null,n)},n.microblogs=e.microblogs,n.username=e.username,n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return null!=this.props.microblogs?r.a.createElement("div",null,this.createMicroblogs(this.props.microblogs,this.username)):null}}]),t}(r.a.Component),ke=(n(291),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).onTextChanged=function(e){var t=n.props.items,a=e.target.value,r=[];if(a.length>0){var o=new RegExp("^".concat(a),"i");console.log(t),r=t.sort().filter((function(e){return o.test(e)}))}n.setState((function(){return{suggestions:r,text:a}}))},n.state={suggestions:[],text:""},n.searchForUser=n.searchForUser.bind(Object(U.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"suggestionSelected",value:function(e){this.setState((function(){return{text:e,suggestions:[]}}))}},{key:"renderSuggestions",value:function(){var e=this,t=this.state.suggestions;return 0===t.length?null:r.a.createElement("ul",null,t.map((function(t){return r.a.createElement("li",{onClick:function(){return e.suggestionSelected(t)}},t)})))}},{key:"searchForUser",value:function(){var e,t=this.state.text,n=this.props.items,a=this.props.username,r=!1;for(e in n)if(n[e]==t){r=!0;break}r?this.props.history.push({pathname:"/profile/"+t,state:{userData:this.userData}}):t!=a?Object(S.b)("Username not found!"):Object(S.b)("You can visit your profile page by clicking the profile button")}},{key:"render",value:function(){var e=this.state.text;return r.a.createElement("div",null,r.a.createElement("div",{className:"AutoCompleteSearchBar"},r.a.createElement("input",{value:e,onChange:this.onTextChanged,type:"text"})," ",r.a.createElement("button",{onClick:this.searchForUser},"Search"),r.a.createElement("ul",null,this.renderSuggestions())))}}]),t}(r.a.Component)),je=Object(l.e)(ke),Ue=n(35),ye=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={loaded:!1},n.editMode=!1,n.microblogPosted=n.microblogPosted.bind(Object(U.a)(n)),n.getAllUsernames=n.getAllUsernames.bind(Object(U.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"microblogPosted",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMicroblogs();case 2:this.setState({loaded:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateMicroblogs",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(S.b)("Microblog posted!"),e.next=3,re.getMicroblogsForUserTimeline(this.userData.username);case 3:this.microblogs=e.sent,Object(Ue.resolve)("done");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.a.auth().onAuthStateChanged(function(){var e=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}return t.props.history.push({pathname:"/login"}),e.abrupt("return",null);case 5:return!0,n=w.a.auth().currentUser,e.next=9,re.getUserdataOfUser(n.uid,!0);case 9:return t.userData=e.sent,e.next=12,re.getMicroblogsForUserTimeline(t.userData.username);case 12:t.microblogs=e.sent,t.setState({loaded:!0});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"goToProfile",value:function(){this.props.history.push({pathname:"/profile",state:{userData:this.userData}})}},{key:"getAllUsernames",value:function(){var e=[];w.a.database().ref().once("value",(function(t){var n,a=t.child("mapUsernameToEmail").val();for(n in a)a[n]!=w.a.auth().currentUser.email&&e.push(n)}));return e}},{key:"render",value:function(){return this.state.loaded?r.a.createElement("div",null,r.a.createElement(le,{userData:this.userData}),r.a.createElement(je,{items:this.getAllUsernames(),username:this.userData.username}),r.a.createElement(oe,{username:this.userData.username,microblogPosted:this.microblogPosted}),r.a.createElement(Oe,{microblogs:this.microblogs,username:this.userData.username})):null}}]),t}(a.Component),xe=Object(l.e)(ye),Ie=function(e){function t(e){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xe,null))}}]),t}(r.a.Component),Ae=n(123),De=[],Ce=function(e){var t=e.type,n=void 0===t?"checkbox":t,a=e.name,o=e.checked,c=e.onChange;return r.a.createElement("input",{type:n,name:a,checked:o,onChange:c})},Te=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={checkedItems:new Map,loaded:!1},n.username=e.username,n.handleChange=n.handleChange.bind(Object(U.a)(n)),n.save=n.save.bind(Object(U.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.checked;this.setState((function(e){return{checkedItems:e.checkedItems.set(t,n)}}))}},{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,o,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.getFollowedAndUnfollowedTopics(this.username);case 2:for(this.topics=e.sent,t=0;t<this.topics.followedTopicsList.length;t++)!0,n=this.topics.followedTopicsList[t],a=this.topics.followedTopicsList[t]+""+t,r={name:n,key:a,label:"Check Box "+t},this.state.checkedItems.set(n,!0),De.push(r);for(t=0;t<this.topics.unfollowedTopics.length;t++)!1,o=this.topics.unfollowedTopics[t],c=this.topics.unfollowedTopics[t]+""+t,i={name:o,key:c,label:"Check Box "+t},this.state.checkedItems.set(o,!1),De.push(i);this.setState({loaded:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,o,c,i,l,s,d,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("REACHED HERE"),t=[],n=[],a=!0,r=!1,o=void 0,e.prev=6,c=this.state.checkedItems.entries()[Symbol.iterator]();!(a=(i=c.next()).done);a=!0)l=i.value,s=Object(Ae.a)(l,2),d=s[0],h=s[1],console.log(d,h),!0===h?t.push(d):!1===h&&n.push(d);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),r=!0,o=e.t0;case 14:e.prev=14,e.prev=15,a||null==c.return||c.return();case 17:if(e.prev=17,!r){e.next=20;break}throw o;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return e.next=24,re.addAndRemoveTopicsFromFollowedUser(this.username,t,n);case 24:case"end":return e.stop()}}),e,this,[[6,10,14,22],[15,,17,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loaded?r.a.createElement(r.a.Fragment,null,De.map((function(t){return r.a.createElement("label",{key:t.key},t.name,r.a.createElement(Ce,{name:t.name,checked:e.state.checkedItems.get(t.name),onChange:e.handleChange}))})),r.a.createElement("button",{type:"button",onClick:this.save},"Save")):null}}]),t}(r.a.Component),Pe=function(e){e.image;var t=e.changeProfPic,n=e.deletePic;return r.a.createElement("div",null,r.a.createElement("img",{id:"img1",height:"125",width:"125"}),r.a.createElement("div",null,r.a.createElement("button",{onClick:t},"Change profile picture ")),r.a.createElement("div",null,r.a.createElement("button",{onClick:n},"Delete Picture / Change to default")))},Be=function(e){e.image;var t=e.changeProfPic;return r.a.createElement("div",null,r.a.createElement("img",{id:"img1",height:"125",width:"125"}),r.a.createElement("div",null,r.a.createElement("button",{onClick:t},"Change profile picture"),r.a.createElement("input",{type:"file",name:"input",id:"input",onChange:t})))},Le=function(e){var t=e.image;return r.a.createElement("div",null,r.a.createElement("img",{src:t,height:"125",width:"125"}))},Se=function(e){var t=e.userProfile;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("h1",{id:"welcome"}),r.a.createElement("br",null),r.a.createElement("label",null,"Followers:"),r.a.createElement("label",{id:"followers"},t.followersAndFollowing.followers),r.a.createElement("br",null),r.a.createElement("label",null,"Following:"),r.a.createElement("label",{id:"following"},t.followersAndFollowing.following),r.a.createElement("br",null),r.a.createElement("button",{type:"button",id:"followbutton",onClick:t.followUser},"Follow"),r.a.createElement("br",null),r.a.createElement("label",null,"Bio:"),r.a.createElement("label",{id:"bio"},t.bio),r.a.createElement("br",null)))},Me=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).uploadImage=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("upLoadImage running"),a=document.getElementById("input"),null!=(r=a.files[0])&&(w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("picture").set(n.username),w.a.storage().ref().child(n.username).put(r).then((function(e){console.log("file uploaded")})).then((function(e){n.toUpload=!1,n.forceUpdate()})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deletePicture=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("deletePicture running"),w.a.database().ref().child("users").child(w.a.auth().currentUser.uid).child("picture").set("default.jpg").then((function(e){n.forceUpdate()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.visiting=n.props.visiting,n.strangername=n.props.strangername,n.toUpload=!1,n.upLoadImage=n.uploadImage.bind(Object(U.a)(n)),n.fetchImage=n.fetchImage.bind(Object(U.a)(n)),n.changePic=n.changePic.bind(Object(U.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"fetchImage",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetchImage running"),e.next=3,w.a.database().ref().once("value",(function(e){n.username=e.child("mapUIDtoUsername").child(w.a.auth().currentUser.uid).val(),t=e.child("users").child(w.a.auth().currentUser.uid).child("picture").val(),console.log("was here hello world")}));case 3:return console.log(t),e.next=7,w.a.storage().ref().child(t).getDownloadURL().then((function(e){var t=e;document.querySelectorAll("img").forEach((function(e){"img1"==e.id&&(e.src=t)}))})).catch((function(e){switch(e.code){case"storage/object-not-found":console.log("object not found");break;case"storage/unauthorized":console.log("unauthorized");break;case"storage/unknown":console.log("unknown")}}));case 7:e.next=10;break;case 9:return e.abrupt("return",w.a.storage().ref(t));case 10:console.log("ends now");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"visiterImage",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.database().ref().once("value",(function(e){n=e.child("mapUsernameToUID").child(r.strangername).val(),console.log("helloworld"),console.log(r.strangername),a=e.child("users").child(n).child("picture").val()}));case 2:return console.log("Yupdupbug"),console.log(a),e.next=6,w.a.storage().ref().child(a).getDownloadURL().then((function(e){t=e,document.querySelector("img").src=t})).catch((function(e){switch(e.code){case"storage/object-not-found":console.log("object not found");break;case"storage/unauthorized":console.log("unauthorized");break;case"storage/unknown":console.log("unknown")}}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"changePic",value:function(){console.log("changePic running"),this.toUpload=!0,this.forceUpdate()}},{key:"render",value:function(){return 0==this.visiting?0==this.toUpload?(console.log("here first"),r.a.createElement("div",null,r.a.createElement(Pe,{image:this.fetchImage(),changeProfPic:this.changePic,deletePic:this.deletePicture}))):(console.log("wrong place"),r.a.createElement("div",null,r.a.createElement(Be,{image:this.fetchImage(),changeProfPic:this.upLoadImage}))):r.a.createElement("div",null,r.a.createElement(Le,{image:this.visiterImage()}))}}]),t}(a.Component),Ne=Object(l.e)(Me),Fe=function(e){var t=e.userProfile,n=e.deleteAccount;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("label",null,"Username:"),r.a.createElement("label",{id:"username"},t.username),r.a.createElement("button",{type:"button",style:{marginLeft:"365px"},onClick:n},"Delete account"),r.a.createElement("br",null),r.a.createElement("label",null,"Followers:"),r.a.createElement("label",{id:"followers"},t.followersAndFollowing.followers),r.a.createElement("br",null),r.a.createElement("label",null,"Following:"),r.a.createElement("label",{id:"following"},t.followersAndFollowing.following),r.a.createElement("br",null),r.a.createElement("label",null,"Bio:"),r.a.createElement("label",{id:"bio"},t.bio),r.a.createElement("button",{onClick:t.editProfile},"Edit"),r.a.createElement("br",null)))},Qe=function(e){var t=e.userProfile,n=e.deleteAccount;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("label",null,"Username:"),r.a.createElement("label",{id:"username"},t.username),r.a.createElement("button",{type:"button",style:{marginLeft:"365px"},onClick:n},"Delete account"),r.a.createElement("br",null),r.a.createElement("label",null,"Followers:"),r.a.createElement("label",{id:"followers"},t.followersAndFollowing.followers),r.a.createElement("br",null),r.a.createElement("label",null,"Following:"),r.a.createElement("label",{id:"following"},t.followersAndFollowing.following),r.a.createElement("br",null),r.a.createElement("label",null,"Bio:"),r.a.createElement("label",{id:"bio"},t.bio),r.a.createElement("br",null),r.a.createElement("input",{id:"bioTextBox",name:"Bio",type:"bio",placeholder:"New bio"}),r.a.createElement("br",null),r.a.createElement("button",{onClick:t.saveChanges},"Save Changes"),r.a.createElement("br",null)))},Re=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).username=e.user.userData.username,n.loggedIn=e.user.userData.loggedIn,n.loggedInViewingOwnProfile=e.user.userData.viewingOwnProfile,n.editProfile=n.editProfile.bind(Object(U.a)(n)),n.deleteAccount=n.deleteAccount.bind(Object(U.a)(n)),n.saveChanges=n.saveChanges.bind(Object(U.a)(n)),n.followOrUnfollowUser=n.followOrUnfollowUser.bind(Object(U.a)(n)),n.renderLoggedInUser=n.renderLoggedInUser.bind(Object(U.a)(n)),n.renderVisitedUser=n.renderVisitedUser.bind(Object(U.a)(n)),n.state={loaded:!1},n.editMode=!1,n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"editProfile",value:function(){this.editMode=!0,this.setState({editMode:1})}},{key:"deleteAccount",value:function(){this.loggedIn=!1,this.props.history.push({pathname:"/DeleteAccount"})}},{key:"saveChanges",value:function(){var e=document.getElementById("bioTextBox").value;re.postCurrentUserBio(e),this.editMode=!1,this.setState({mustUpdate:1})}},{key:"followOrUnfollowUser",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Follow"!=document.getElementById("followbutton").textContent){e.next=7;break}return e.next=3,re.followUserIAmViewing(this.username);case 3:document.getElementById("followbutton").textContent="Unfollow",this.setState({follow:0}),e.next=12;break;case 7:return e.next=9,re.unfollowUserIAmViewing(this.username);case 9:document.getElementById("followbutton").textContent="Unfollow",this.setState({follow:1}),document.getElementById("followbutton").textContent="Follow";case 12:return e.next=14,re.getFollowersAndFollowing(this.username);case 14:this.followersAndFollowing=e.sent,this.userProfile.followersAndFollowing=this.followersAndFollowing,this.setState({mustUpdate:1});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.userProfile=new Object,this.userProfile.saveChanges=this.saveChanges,this.userProfile.editProfile=this.editProfile,this.userProfile.followUser=this.followOrUnfollowUser,e.next=6,this.downloadUserProfile(this.userProfile);case 6:if(this.setState({loaded:!0}),this.loggedIn||(document.getElementById("followbutton").disabled=!0,document.getElementById("logout").disabled=!0,document.getElementById("profile").disabled=!0),!1!==this.viewingOwnProfile){e.next=11;break}return e.next=11,w.a.database().ref().once("value",(function(e){var n=e.child("mapUIDtoUsername").val()[w.a.auth().currentUser.uid];t.userProfile.followersAndFollowing.followers.includes(n)&&(document.getElementById("followbutton").textContent="Unfollow")}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.downloadUserProfile(this.userProfile);case 2:1==this.state.mustUpdate&&this.setState({mustUpdate:0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadUserProfile",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.username=this.username,e.next=3,re.getBio(this.username);case 3:return this.bio=e.sent,t.bio=this.bio,e.next=7,re.getFollowersAndFollowing(this.username);case 7:return this.followersAndFollowing=e.sent,t.followersAndFollowing=this.followersAndFollowing,e.next=11,re.getMicroblogsForUser(this.username);case 11:this.microblogs=e.sent,t.microblogs=this.microblogs,Object(Ue.resolve)("done");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loaded?this.loggedIn&&this.loggedInViewingOwnProfile?this.renderLoggedInUser(this.userProfile,this.deleteAccount):this.renderVisitedUser(this.userProfile):null}},{key:"renderLoggedInUser",value:function(e,t){return this.editMode?r.a.createElement("div",null,r.a.createElement(Qe,{userProfile:e,deleteAccount:t}),r.a.createElement(Oe,{microblogs:e.microblogs,username:e.username})):r.a.createElement("div",null,r.a.createElement(Ne,{visiting:!1}),r.a.createElement(Fe,{userProfile:e,deleteAccount:t}),r.a.createElement(Oe,{microblogs:e.microblogs,username:e.username}))}},{key:"renderVisitedUser",value:function(e){return r.a.createElement("div",null,r.a.createElement(Ne,{strangername:this.username,visiting:!0}),r.a.createElement(Se,{userProfile:e}),r.a.createElement(Oe,{microblogs:e.microblogs,username:e.username}))}}]),t}(r.a.Component),He=Object(l.e)(Re),ze=function(e){return r.a.createElement("div",null,r.a.createElement(He,{user:e}),r.a.createElement("form",null))},qe=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).localProps=e,n.state={loaded:!1},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setUsername();case 2:this.setState({loaded:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setUsername",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.database().ref().once("value",(function(e){var n=e.child("mapUIDtoUsername").val();if(void 0==w.a.auth().currentUser||null==w.a.auth().currentUser){if("/profile"==t.localProps.location.pathname)return void t.localProps.history.push({pathname:"/login"});t.path=t.localProps.location.pathname,t.username=t.path.substring(9,t.path.length),t.userData=new te(t.username,!1)}else"/profile"!=t.localProps.location.pathname?(t.path=t.localProps.location.pathname,t.username=t.path.substring(9,t.path.length),t.username==n[w.a.auth().currentUser.uid]?t.userData=new te(t.username,!0,!0):t.userData=new te(t.username,!0,!1)):t.userData=new te(n[w.a.auth().currentUser.uid],!0,!0)}));case 2:Object(Ue.resolve)("done");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loaded?r.a.createElement("div",null,r.a.createElement(le,null),r.a.createElement(ze,{userData:this.userData}),r.a.createElement(Te,{username:this.username})):null}}]),t}(r.a.Component),Ge=Object(l.e)(qe),Ke=function(e){var t=e.onSubmit;return r.a.createElement("div",null,r.a.createElement("h1",null,"User verification"),r.a.createElement("form",{onSubmit:t},r.a.createElement("label",null,"Email/Username",r.a.createElement("input",{name:"email",placeholder:"Email/Username"})),r.a.createElement("label",null,"Password",r.a.createElement("input",{name:"password",type:"password",placeholder:"Password"})),r.a.createElement("button",{type:"submit"},"Delete Account")))},Ve=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).handleLogIn=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r,o,c,i,l,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.elements,r=a.email,o=a.password,e.prev=2,c=!1,i=w.a.auth().currentUser.email,l=null,r.value!=i){e.next=12;break}return c=!0,e.next=10,y.database().ref().once("value",(function(e){var t,n=e.child("mapUsernameToEmail").val();for(t in n)if(n[t]==i){l=t;break}}));case 10:e.next=14;break;case 12:return e.next=14,y.database().ref().once("value",(function(e){var t=e.child("mapUsernameToEmail").val();console.log(t[r.value]),void 0!=t[r.value]&&t[r.value]==i&&(l=r.value,c=!0)}));case 14:if(c){e.next=18;break}return Object(S.b)("The Email/Username or Password is incorrect"),Object(S.b)("The Email/Username or Password is incorrect",{containerId:"B"}),e.abrupt("return");case 18:return s=!0,e.next=21,y.auth().signInWithEmailAndPassword(i,o.value).catch((function(){s=!1}));case 21:if(n.user=e.sent,s){e.next=26;break}return Object(S.b)("The Email/Username or Password is incorrect"),Object(S.b)("The Email/Username or Password is incorrect",{containerId:"B"}),e.abrupt("return");case 26:console.log(l),re.deleteUserData(l),Object(S.b)("User account deleted"),n.loggedIn=!1,n.props.history.push({pathname:"/login"}),e.next=36;break;case 33:e.prev=33,e.t0=e.catch(2),Object(S.b)(e.t0);case 36:case"end":return e.stop()}}),e,null,[[2,33]])})));return function(t){return e.apply(this,arguments)}}(),n.handleLogIn=n.handleLogIn.bind(Object(U.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,{enableMultiContainer:!0,containerId:"B",position:S.b.POSITION.TOP_RIGHT}),r.a.createElement(O,null),r.a.createElement(Ke,{onSubmit:this.handleLogIn}))}}]),t}(a.Component),Je=Object(l.e)(Ve),Xe=n(122),We=(n(294),function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.messages;return r.a.createElement("ul",{className:"Messages-list"},t.map((function(t){return e.renderMessage(t)})))}},{key:"renderMessage",value:function(e){var t=e.member,n=e.text,a=this.props.currentMember,o=t.id===a.id?"Messages-message currentMember":"Messages-message";return r.a.createElement("li",{className:o},r.a.createElement("span",{className:"avatar",style:{backgroundColor:t.clientData.color}}),r.a.createElement("div",{className:"Message-content"},r.a.createElement("div",{className:"username"},t.clientData.username),r.a.createElement("div",{className:"text"},n)))}}]),t}(a.Component)),Ye=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={text:""},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"onChange",value:function(e){this.setState({text:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({text:""}),this.props.onSendMessage(this.state.text)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Input"},r.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("input",{onChange:function(t){return e.onChange(t)},value:this.state.text,type:"text",placeholder:"Enter your message and press ENTER",autofocus:"true"}),r.a.createElement("button",null,"Send")))}}]),t}(a.Component);n(295);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var _e=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={messages:[],member:{username:"ABCD",color:"#"+Math.floor(16777215*Math.random()).toString(16)}},n.onSendMessage=function(e){n.drone.publish({room:"observable-room",message:e})},n.updateUserName(),n.drone=new window.Scaledrone("QeA5YRICL8SUcMYT",{data:n.state.member}),n.drone.on("open",(function(e){if(e)return console.error(e);var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(n,!0).forEach((function(t){Object(Xe.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state.member);t.id=n.drone.clientId,n.setState({member:t})})),n.drone.subscribe("observable-room").on("data",(function(e,t){var a=n.state.messages;a.push({member:t,text:e}),n.setState({messages:a})})),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateUserName();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateUserName",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.a.auth().onAuthStateChanged(function(){var e=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}return t.props.history.push({pathname:"/login"}),e.abrupt("return",null);case 5:return!0,n=w.a.auth().currentUser,e.next=9,re.getUserdataOfUser(n.uid,!0);case 9:t.userData=e.sent,t.state.member.username=t.userData.username;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("h1",null,"Twisster Chat")),r.a.createElement(We,{messages:this.state.messages,currentMember:this.state.member}),r.a.createElement(Ye,{onSendMessage:this.onSendMessage}))}}]),t}(a.Component),$e=Object(l.e)(_e);S.b.configure();var et=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(l.a,{exact:!0,path:"/",component:j}),r.a.createElement(l.a,{exact:!0,path:"/login",component:N}),r.a.createElement(l.a,{exact:!0,path:"/signup",component:J}),r.a.createElement(l.a,{exact:!0,path:"/landing",component:Ie}),r.a.createElement(l.a,{path:"/profile",component:Ge}),r.a.createElement(l.a,{path:"/DeleteAccount",component:Je}),r.a.createElement(l.a,{path:"/chat",component:$e})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(296),n(298);c.a.render(r.a.createElement(i.a,null,r.a.createElement(et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e,t,n){e.exports=n.p+"static/media/twisster_logo.d26fb7f2.png"}},[[124,1,2]]]);
//# sourceMappingURL=main.44c53c81.chunk.js.map